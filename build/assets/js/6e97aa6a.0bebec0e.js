"use strict";(globalThis.webpackChunkaws_ps_tech_docs=globalThis.webpackChunkaws_ps_tech_docs||[]).push([[6681],{263(e,s,n){n.d(s,{A:()=>a});const a=n.p+"assets/images/screenshot-2024-04-18-at-11-52-53-pm-efa336f25c0076a319c54a55fa399b99.png"},712(e,s,n){n.d(s,{A:()=>a});const a=n.p+"assets/images/screenshot-2024-04-18-at-11-51-22-pm-5107a251946372cd25efeade1dac8e9b.png"},881(e,s,n){n.d(s,{A:()=>a});const a=n.p+"assets/images/screenshot-2024-04-18-at-11-49-02-pm-62898ff8006cc12b2701d3bde0008868.png"},1114(e,s,n){n.d(s,{A:()=>a});const a=n.p+"assets/images/screenshot-2024-04-18-at-11-35-04-pm-86c8bb7f18b76f184ca01a2671a92ff1.png"},1820(e,s,n){n.d(s,{A:()=>a});const a=n.p+"assets/images/screenshot-2024-04-19-at-10-36-37-am-f4ee3f4f74cec7010a2f7f6727085bda.png"},2007(e,s,n){n.d(s,{A:()=>a});const a=n.p+"assets/images/screenshot-2024-04-18-at-11-45-17-pm-e0dd861c216c3206eef70edb797ccd93.png"},2248(e,s,n){n.d(s,{A:()=>a});const a=n.p+"assets/files/screenshot-2024-04-18-at-11-32-14-pm-e6904a9795a9eb74fd851b18ffd1d482.png"},3541(e,s,n){n.d(s,{A:()=>a});const a=n.p+"assets/images/screenshot-2024-04-18-at-11-40-01-pm-e28a82056abca39fff3b2f33b03ceb2f.png"},3908(e,s,n){n.d(s,{A:()=>a});const a=n.p+"assets/images/screenshot-2024-04-18-at-11-53-19-pm-18bbe95979b75aca7ea329d9c2ac4682.png"},3938(e,s,n){n.d(s,{A:()=>a});const a=n.p+"assets/images/screenshot-2024-04-18-at-11-37-33-pm-ca51a38ca7e522cbf71da7b15e33c7c1.png"},4409(e,s,n){n.d(s,{A:()=>a});const a=n.p+"assets/images/screenshot-2024-05-10-at-11-24-41-am-666c43718ab81a9aba877df776335f87.png"},4979(e,s,n){n.d(s,{A:()=>a});const a=n.p+"assets/images/screenshot-2024-04-18-at-11-47-46-pm-6e8191d93df05d253d18390db7381cd7.png"},5140(e,s,n){n.d(s,{A:()=>a});const a=n.p+"assets/images/screenshot-2024-05-10-at-11-26-48-am-1ae6a02c9ca5ff7438ad35b9e9399fa1.png"},5995(e,s,n){n.d(s,{A:()=>a});const a=n.p+"assets/images/8c8screenshot-2024-04-19-at-9-47-48-am-7fed4ab3197fd2e47b12c3ff07fb054b.png"},6240(e,s,n){n.d(s,{A:()=>a});const a=n.p+"assets/images/BhMscreenshot-2024-04-19-at-9-31-02-am-fa41cba9b8faf9acf986a398cef514ca.png"},6320(e,s,n){n.d(s,{A:()=>a});const a=n.p+"assets/images/screenshot-2024-04-18-at-11-46-31-pm-9e40a06a0f86f3cadc42261b9e025bc8.png"},6679(e,s,n){n.d(s,{A:()=>a});const a=n.p+"assets/images/screenshot-2024-04-18-at-11-50-55-pm-9927100c9acb634c5a50f6d822a952e5.png"},6846(e,s,n){n.d(s,{A:()=>a});const a=n.p+"assets/images/screenshot-2024-04-18-at-11-42-51-pm-49e63f015e61ea2c1234166dfab9fcdb.png"},7030(e,s,n){n.d(s,{A:()=>a});const a=n.p+"assets/images/screenshot-2024-04-18-at-11-38-25-pm-52c0074bd712f7c149d89dc1b7b9a531.png"},7186(e,s,n){n.d(s,{A:()=>a});const a=n.p+"assets/images/screenshot-2024-04-18-at-11-36-34-pm-0db541d66649401c4e331b75105e51f5.png"},7456(e,s,n){n.d(s,{A:()=>a});const a=n.p+"assets/images/Nn0screenshot-2024-04-19-at-9-32-13-am-95128e22e2149b9725204dd39018d202.png"},8390(e,s,n){n.d(s,{A:()=>a});const a=n.p+"assets/images/screenshot-2024-04-19-at-9-53-10-am-a3dbf8379cf66ab861ea27e882e46cc3.png"},8453(e,s,n){n.d(s,{R:()=>r,x:()=>c});var a=n(6540);const i={},t=a.createContext(i);function r(e){const s=a.useContext(t);return a.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),a.createElement(t.Provider,{value:s},e.children)}},8664(e,s,n){n.d(s,{A:()=>a});const a=n.p+"assets/images/screenshot-2024-05-10-at-11-26-08-am-c952284eca7f161cbd42c0f39ca573a0.png"},9187(e,s,n){n.d(s,{A:()=>a});const a=n.p+"assets/images/screenshot-2024-05-10-at-11-25-22-am-9d5c68b62cd578500db4bc0531c4574c.png"},9351(e,s,n){n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"omics-on-aws/amazon-emr-on-ec2","title":"Amazon EMR on EC2","description":"\\\\","source":"@site/docs/omics-on-aws/amazon-emr-on-ec2.md","sourceDirName":"omics-on-aws","slug":"/omics-on-aws/amazon-emr-on-ec2","permalink":"/docusaurus/omics-on-aws/amazon-emr-on-ec2","draft":false,"unlisted":false,"editUrl":"https://github.com/aws-wwps-kr-tech/docusaurus/tree/main/docs/omics-on-aws/amazon-emr-on-ec2.md","tags":[],"version":"current","sidebarPosition":0,"frontMatter":{"title":"Amazon EMR on EC2","sidebar_position":0},"sidebar":"tutorialSidebar","previous":{"title":"AWS HealthOmics Run Analyzer \ubd84\uc11d \ub9ac\ud3ec\ud2b8 (Run: 1910249)","permalink":"/docusaurus/omics-on-aws/aws-healthomics-run-analyzer-run-1910249"},"next":{"title":"AWS Glue","permalink":"/docusaurus/omics-on-aws/aws-glue"}}');var i=n(4848),t=n(8453);const r={title:"Amazon EMR on EC2",sidebar_position:0},c=void 0,l={},d=[{value:"VPC \uc0dd\uc131",id:"vpc-\uc0dd\uc131",level:3},{value:"VPC \uc0dd\uc131 \ud655\uc778",id:"vpc-\uc0dd\uc131-\ud655\uc778",level:3},{value:"EMR \ud074\ub7ec\uc2a4\ud130 \uc0dd\uc131",id:"emr-\ud074\ub7ec\uc2a4\ud130-\uc0dd\uc131",level:3},{value:"Name and applications",id:"name-and-applications",level:4},{value:"Cluster configuration",id:"cluster-configuration",level:4},{value:"Networking",id:"networking",level:4},{value:"[Cluster termination and node replacement]",id:"cluster-termination-and-node-replacement",level:4},{value:"Cluster logs",id:"cluster-logs",level:4},{value:"[Security configuration and EC2 key pair]",id:"security-configuration-and-ec2-key-pair",level:4},{value:"[Identity and Access Management (IAM) roles]",id:"identity-and-access-management-iam-roles",level:4},{value:"\ud074\ub7ec\uc2a4\ud130 \uc0dd\uc131 \ud655\uc778",id:"\ud074\ub7ec\uc2a4\ud130-\uc0dd\uc131-\ud655\uc778",level:3},{value:"Installing &amp; Running Hail on Primary Node",id:"installing--running-hail-on-primary-node",level:4},{value:"\ucc38\uace0 \ub9c1\ud06c",id:"\ucc38\uace0-\ub9c1\ud06c",level:4},{value:"\ud2b8\ub7ec\ube14 \uc288\ud305",id:"\ud2b8\ub7ec\ube14-\uc288\ud305",level:4}];function o(e){const s={a:"a",br:"br",code:"code",h3:"h3",h4:"h4",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.p,{children:"\\"}),"\n",(0,i.jsx)(s.h3,{id:""}),"\n",(0,i.jsx)(s.h3,{id:"vpc-\uc0dd\uc131",children:"VPC \uc0dd\uc131"}),"\n",(0,i.jsx)(s.p,{children:"1. VPC\ub97c \uc0dd\uc131\ud569\ub2c8\ub2e4."}),"\n",(0,i.jsxs)(s.p,{children:["[!",(0,i.jsx)(s.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:n(2248).A+"",children:"\uc774\ubbf8\uc9c0"})," \xa0\xa0](/img/omics-on-aws/screenshot-2024-04-18-at-11-32-14-pm.png) ",(0,i.jsx)(s.img,{alt:"\uc774\ubbf8\uc9c0",src:n(1114).A+"",width:"766",height:"528"})]}),"\n",(0,i.jsx)(s.p,{children:"\ub2e4\ub978 \ubaa8\ub4e0 \uc0ac\ud56d\uc740 \uae30\ubcf8\uac12\uc73c\ub85c \ud558\uc5ec Name\ub9cc \uc9c0\uc815\ud574\uc8fc\uc5c8\uc2b5\ub2c8\ub2e4."}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"\uc774\ubbf8\uc9c0",src:n(7186).A+"",width:"1004",height:"862"})}),"\n",(0,i.jsx)(s.h3,{id:"vpc-\uc0dd\uc131-\ud655\uc778",children:"VPC \uc0dd\uc131 \ud655\uc778"}),"\n",(0,i.jsxs)(s.p,{children:["\ub9cc\ub4e4\uc5b4\uc9c4\xa0",(0,i.jsx)(s.code,{children:"hail-vpc"})," \uc774\ub984\uc758 VPC ID \ub97c \ud655\uc778\ud569\ub2c8\ub2e4."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"\uc774\ubbf8\uc9c0",src:n(7030).A+"",width:"1564",height:"386"})}),"\n",(0,i.jsx)(s.p,{children:"2. \ubcf4\uc548 \uadf8\ub8f9\uc744 2\uac1c \uc0dd\uc131\ud569\ub2c8\ub2e4. \uc774\ub54c \uc55e\uc5d0\uc11c \ub9cc\ub4e0 VPC\ub97c \uc120\ud0dd\ud574\uc57c \ud569\ub2c8\ub2e4."}),"\n",(0,i.jsxs)(s.p,{children:["\uc5ec\uae30\uc11c\ub294 ",(0,i.jsx)(s.code,{children:"emr-primary-sg"})," \uc640 ",(0,i.jsx)(s.code,{children:"emr-core-sg"})," \ub85c \uc774\ub984\uc744 \uc9c0\uc815\ud588\uc2b5\ub2c8\ub2e4."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.img,{alt:"\uc774\ubbf8\uc9c0",src:n(3938).A+"",width:"480",height:"1490"})," ",(0,i.jsx)(s.a,{href:"/img/omics-on-aws/screenshot-2024-04-18-at-11-39-07-pm.png",children:"\xa0 \xa0"}),(0,i.jsx)(s.img,{alt:"\uc774\ubbf8\uc9c0",src:n(3541).A+"",width:"1346",height:"916"})]}),"\n",(0,i.jsx)(s.h3,{id:"-1"}),"\n",(0,i.jsxs)(s.p,{children:["AWS CloudFormation \uc744 \uc0ac\uc6a9\ud558\ub294 \ubc29\ubc95\ub3c4 \uc788\uc2b5\ub2c8\ub2e4. ",(0,i.jsx)(s.a,{href:"https://catalog.us-east-1.prod.workshops.aws/workshops/c86bd131-f6bf-4e8f-b798-58fd450d3c44/en-US/setup/selfpaced/prerequisites",children:"\uc5ec\uae30\ub97c \ucc38\uace0"}),"\ud558\uc138\uc694."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.a,{href:"https://us-east-1.console.aws.amazon.com/cloudformation/home?region=us-east-1#/stacks/quickcreate?stackName=emr-workshop&templateURL=https://ws-assets-prod-iad-r-iad-ed304a55c2ca1aee.s3.us-east-1.amazonaws.com/c86bd131-f6bf-4e8f-b798-58fd450d3c44/emr-dev-exp-self-paced.template",children:"Stack \uc2e4\ud589\ud558\uae30"})}),"\n",(0,i.jsx)(s.h3,{id:"-2"}),"\n",(0,i.jsx)(s.h3,{id:"emr-\ud074\ub7ec\uc2a4\ud130-\uc0dd\uc131",children:"EMR \ud074\ub7ec\uc2a4\ud130 \uc0dd\uc131"}),"\n",(0,i.jsx)(s.p,{children:"1. EMR \ucf58\uc194\ub85c \uc811\uc18d\ud569\ub2c8\ub2e4."}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"\uc774\ubbf8\uc9c0",src:n(9946).A+"",width:"1348",height:"460"})}),"\n",(0,i.jsx)(s.p,{children:"2. EMR on EC2 > Clusters \uba54\ub274\ub97c \uc120\ud0dd\ud558\uace0 \ud074\ub7ec\uc2a4\ud130\ub97c \uc0c8\ub85c \uc0dd\uc131\ud569\ub2c8\ub2e4."}),"\n",(0,i.jsx)(s.h4,{id:"name-and-applications",children:"Name and applications"}),"\n",(0,i.jsxs)(s.p,{children:["Application bundle\uc740\xa0",(0,i.jsx)(s.code,{children:"Custom"})," \uc744 \uc120\ud0dd\ud569\ub2c8\ub2e4."]}),"\n",(0,i.jsx)(s.p,{children:"Option                           Configuration"}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.p,{children:"Release                          emr-7.1.0\nSoftware                         *Hadoop, Hive, Spark, Livy and JupyterHub, JupyterEnterpriseGateway\nMulti-master support             Leave as deafult\nAWS Glue Data Catalog Settings   Select 1. Use for Hive table metadata, 2. Use for Spark table metadata\nAmazon Linux Release             Leave as deafult"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"\uc774\ubbf8\uc9c0",src:n(6846).A+"",width:"2400",height:"1606"})}),"\n",(0,i.jsx)(s.h4,{id:"cluster-configuration",children:"Cluster configuration"}),"\n",(0,i.jsx)(s.p,{children:"Cluster configuration \uc5d0\uc11c Task\xa0 \ub178\ub4dc\ub294 \uc0ad\uc81c\ud569\ub2c8\ub2e4."}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"\uc774\ubbf8\uc9c0",src:n(2007).A+"",width:"1496",height:"708"})}),"\n",(0,i.jsx)(s.p,{children:"\uc778\uc2a4\ud134\uc2a4 \uadf8\ub8f9\uc5d0\uc11c \uae30\ubcf8\uc758 \uacbd\uc6b0 m5d.4xlarge(\uc2a4\ud1a0\ub9ac\uc9c0 \ucd94\uac00)\ub97c \uc120\ud0dd\ud558\uace0, \ucf54\uc5b4\uc758 \uacbd\uc6b0 m5.4xlarge\ub97c \uc120\ud0dd\ud55c \ud6c4 \uc791\uc5c5 \ub178\ub4dc\ub97c \uc81c\uac70\ud569\ub2c8\ub2e4(\uc791\uc5c5 \ub178\ub4dc\ub294 \uc791\uc5c5 \uc2e4\ud589\uc5d0\ub9cc \uc0ac\uc6a9\ub418\uba70 HDFS\uc5d0 \ub370\uc774\ud130\ub97c \uc800\uc7a5\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4)."}),"\n",(0,i.jsx)(s.p,{children:"\\"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"\uc774\ubbf8\uc9c0",src:n(6320).A+"",width:"1434",height:"1604"})}),"\n",(0,i.jsx)(s.h3,{id:"-3"}),"\n",(0,i.jsx)(s.h4,{id:"networking",children:"Networking"}),"\n",(0,i.jsx)(s.p,{children:"Networking \uc124\uc815\uc5d0\uc11c vpc\ub294 \uc55e\uc5d0\uc11c \ub9cc\ub4e4\uc5c8\ub358 hail-vpc\uc5d0 \ud574\ub2f9\ud558\ub294 VPC ID \ub97c \uc120\ud0dd\ud569\ub2c8\ub2e4.\xa0\\"}),"\n",(0,i.jsx)(s.p,{children:"Stack\uc744 \uc774\uc6a9\ud574 Networking\uc744 \uad6c\uc131\ud588\ub2e4\uba74 EMR-Dev-Exp-VPC \ub77c\ub294 \uc774\ub984\uc758 VPC\ub97c \uc120\ud0dd\ud574\uc57c \ud560 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4.\\"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"\uc774\ubbf8\uc9c0",src:n(4979).A+"",width:"1444",height:"450"})}),"\n",(0,i.jsx)(s.p,{children:"Subnet\uc740 public \uc911\uc5d0 \uc120\ud0dd\ud569\ub2c8\ub2e4."}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"\uc774\ubbf8\uc9c0",src:n(881).A+"",width:"1436",height:"942"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"\uc774\ubbf8\uc9c0",src:n(6679).A+"",width:"1386",height:"880"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"\uc774\ubbf8\uc9c0",src:n(7456).A+"",width:"2878",height:"1184"})}),"\n",(0,i.jsx)(s.h4,{id:"cluster-termination-and-node-replacement",children:"[Cluster termination and node replacement]"}),"\n",(0,i.jsxs)(s.p,{children:["Cluster termination and node replacement > Termination option\uc5d0\uc11c\xa0",(0,i.jsx)(s.code,{children:"Manually terminate cluster"})," \ub97c \uc120\ud0dd\ud569\ub2c8\ub2e4."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"\uc774\ubbf8\uc9c0",src:n(712).A+"",width:"1358",height:"730"})}),"\n",(0,i.jsx)(s.h4,{id:"cluster-logs",children:"Cluster logs"}),"\n",(0,i.jsx)(s.p,{children:'\ud074\ub7ec\uc2a4\ud130 \ub85c\uadf8 \uc124\uc815\uc5d0\uc11c \ud074\ub7ec\uc2a4\ud130\ubcc4 \ub85c\uadf8\ub97c Amazon S3\uc5d0 \uac8c\uc2dc\ub97c \uc120\ud0dd\ud55c \ub2e4\uc74c S3 \ucc3e\uc544\ubcf4\uae30\ub97c \ud074\ub9ad\ud569\ub2c8\ub2e4. "emr-dev-exp-xxxxx"\uac00 \uc788\ub294 \ubc84\ud0b7\uc744 \uc120\ud0dd\ud558\uace0 /logs/ \uc811\ubbf8\uc0ac\ub97c \ucd94\uac00\ud569\ub2c8\ub2e4.\\'}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"\uc774\ubbf8\uc9c0",src:n(4409).A+"",width:"789",height:"327"})}),"\n",(0,i.jsx)(s.h4,{id:"security-configuration-and-ec2-key-pair",children:"[Security configuration and EC2 key pair]"}),"\n",(0,i.jsx)(s.p,{children:"\ubcf4\uc548 \uad6c\uc131 \ubc0f EC2 \ud0a4 \uc30d\uc5d0\uc11c \ud0a4 \uc30d\uc744 \ub9cc\ub4e4\uace0 ssh\uc6a9 .pem \ud0a4 \ud30c\uc77c\uc744 \uc800\uc7a5\ud569\ub2c8\ub2e4."}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"\uc774\ubbf8\uc9c0",src:n(263).A+"",width:"1358",height:"564"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"\uc774\ubbf8\uc9c0",src:n(3908).A+"",width:"1486",height:"1322"})}),"\n",(0,i.jsx)(s.h4,{id:"identity-and-access-management-iam-roles",children:"[Identity and Access Management (IAM) roles]"}),"\n",(0,i.jsx)(s.p,{children:"ID \ubc0f \uc561\uc138\uc2a4 \uad00\ub9ac \uc5ed\ud560\uc5d0\uc11c \uc11c\ube44\uc2a4 \uc5ed\ud560 \ubc0f \uc778\uc2a4\ud134\uc2a4 \ud504\ub85c\ud544 \ub9cc\ub4e4\uae30\ub97c \uc120\ud0dd\ud560 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"\uc774\ubbf8\uc9c0",src:n(8664).A+"",width:"767",height:"615"})}),"\n",(0,i.jsx)(s.p,{children:"Stack\uc744 \uc0ac\uc6a9\ud587\ub2e4\uba74 \uc544\ub798\ucc98\ub7fc \uae30\uc874\uc5d0 \uc874\uc7ac\ud558\ub294 Role\uc744 \uc120\ud0dd\ud558\uace0 EMRDevExp-EMRClusterServiceRole\uc744 \uc120\ud0dd\ud569\ub2c8\ub2e4. \ub9c8\ucc2c\uac00\uc9c0\ub85c EC2 instance profile\uc5d0 \ub300\ud574\uc11c\ub3c4 \uc2a4\ud0dd\uc5d0 \uc758\ud574 \ub9cc\ub4e4\uc5b4\uc838\uc788\ub294 EMRDevExp-EMR_EC2_Restricted_Role\uc744 \uc120\ud0dd\ud569\ub2c8\ub2e4.\\"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"\uc774\ubbf8\uc9c0",src:n(9187).A+"",width:"802",height:"319"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"\uc774\ubbf8\uc9c0",src:n(5140).A+"",width:"769",height:"260"})}),"\n",(0,i.jsx)(s.h3,{id:"\ud074\ub7ec\uc2a4\ud130-\uc0dd\uc131-\ud655\uc778",children:"\ud074\ub7ec\uc2a4\ud130 \uc0dd\uc131 \ud655\uc778"}),"\n",(0,i.jsx)(s.p,{children:"\ub2e4\uc74c\uacfc \uac19\uc774 EMR \ud074\ub7ec\uc2a4\ud130 \uc0dd\uc131\uc744 \ud655\uc778\ud569\ub2c8\ub2e4."}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"\uc774\ubbf8\uc9c0",src:n(6240).A+"",width:"3734",height:"1426"})}),"\n",(0,i.jsx)(s.p,{children:"EMR-master \uc5d0 \ub300\ud55c Security group \ud655\uc778\uc744 \ud574\ubd05\ub2c8\ub2e4. Edit inbound rules\ub97c \ub20c\ub7ec ssh \ub85c \uc811\uc18d\ud560 \uc218 \uc788\ub3c4\ub85d \ub8f0\uc744 \ucd94\uac00\ud569\ub2c8\ub2e4.\\"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"\uc774\ubbf8\uc9c0",src:n(5995).A+"",width:"3396",height:"1168"})}),"\n",(0,i.jsx)(s.p,{children:"EMR-slave\uc5d0 \ub300\ud55c Security group \ud655\uc778\xa0"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"\uc774\ubbf8\uc9c0",src:n(9520).A+"",width:"2868",height:"1120"})}),"\n",(0,i.jsx)(s.p,{children:"\\"}),"\n",(0,i.jsx)(s.h4,{id:"installing--running-hail-on-primary-node",children:"Installing & Running Hail on Primary Node"}),"\n",(0,i.jsx)(s.p,{children:"cluster \uc811\uc18d\xa0"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"aws emr ssh --cluster-id  --key-pair-file \n"})}),"\n",(0,i.jsx)(s.p,{children:"hail \uc124\uce58 (\ucc38\uace0)"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"sudo yum install git lz4 lz4-devel openblas-devel lapack-devel \n\ngit clone https://github.com/hail-is/hail.git\n\ncd hail/hail\n\nExport JAVA_HOME=/usr/lib/jvm/java-1.8.0-amazon-corretto\nExport PATH=$PATH:/home/hadoop/.local/bin\n\nmake install-on-cluster HAIL_COMPILE_NATIVES=1 SCALA_VERSION=2.12.18 SPARK_VERSION=3.5.0\n"})}),"\n",(0,i.jsxs)(s.p,{children:["hail test (",(0,i.jsx)(s.a,{href:"https://hail.is/docs/0.2/install/try.html#next-steps",children:"\ucc38\uace0"}),")\xa0\\"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"Import hail\nmt = hail.balding_nichols_model(n_populations=3,\n                              n_samples=10,\n                              n_variants=100)\nmt.show()\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Running with Spark (\uc911\uc694)"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:'from pyspark.sql Import SparkSession\nImport hail as hail\nhail_dir = "/home/hadoop/.local/lib/python3.9/site-packages/hail" # Edit the path accordingly.\n\nspark = SparkSession.builder \\\n    .config("spark.jars", f"/backend/hail-all-spark.jar") \\\n    .config("spark.driver.extraClassPath", f"/backend/hail-all-spark.jar") \\\n    .config("spark.executor.extraClassPath", "./hail-all-spark.jar") \\\n    .config("spark.kryo.registrator", "is.hail.kryo.HailKryoRegistrator") \\\n    .config("spark.serializer", "org.apache.spark.serializer.KryoSerializer") \\\n    .getOrCreate()\n\nhail.init(spark.sparkContext)\n\n#hail.stop() #if previous session is still open\n'})}),"\n",(0,i.jsx)(s.h3,{id:"-4"}),"\n",(0,i.jsx)(s.h4,{id:"\ucc38\uace0-\ub9c1\ud06c",children:"\ucc38\uace0 \ub9c1\ud06c"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://github.com/ryerobinson/quickstart-hail",children:"Git repository"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"https://aws.github.io/aws-emr-containers-best-practices/troubleshooting/docs/change-log-level/",children:"EMR COntainers Best Practices Guides"})}),"\n"]}),"\n",(0,i.jsx)(s.h4,{id:"\ud2b8\ub7ec\ube14-\uc288\ud305",children:"\ud2b8\ub7ec\ube14 \uc288\ud305"}),"\n",(0,i.jsxs)(s.p,{children:["py4j.protocol.Py4JJavaError: An error occurred while calling z",":is",".hail.backend.spark.SparkBackend.apply.",(0,i.jsx)(s.br,{}),"\n",": is.hail.utils.HailException: This Hail JAR was compiled for Spark 3.3.0, cannot run with Spark 3.5.0-amzn-1.",(0,i.jsx)(s.br,{}),"\n","\xa0 The major and minor versions must agree, though the patch version can differ."]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"\ub0b4\ubcf4\ub0b4\uae30 JAVA_HOME"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"\uc774\ubbf8\uc9c0",src:n(8390).A+"",width:"1644",height:"790"})}),"\n",(0,i.jsx)(s.p,{children:"Export PATH=$PATH:/home/hadoop/.local/bin"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"\uc774\ubbf8\uc9c0",src:n(1820).A+"",width:"1846",height:"374"})})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},9520(e,s,n){n.d(s,{A:()=>a});const a=n.p+"assets/images/dI2screenshot-2024-04-19-at-9-33-11-am-70b0fa657ded5957e41cf854fa67569b.png"},9946(e,s,n){n.d(s,{A:()=>a});const a=n.p+"assets/images/screenshot-2024-04-18-at-11-40-57-pm-956534d8e2350656a81e4a9e2f0f906c.png"}}]);