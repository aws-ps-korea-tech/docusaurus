"use strict";(globalThis.webpackChunkaws_ps_tech_docs=globalThis.webpackChunkaws_ps_tech_docs||[]).push([[2524],{6194(e,s,t){t.r(s),t.d(s,{assets:()=>c,contentTitle:()=>l,default:()=>a,frontMatter:()=>i,metadata:()=>n,toc:()=>h});const n=JSON.parse('{"id":"aws-blast-performance-testing/cost-analysis","title":"\ube44\uc6a9 \ubd84\uc11d (Cost Analysis)","description":"Region: ap-northeast-2 (Seoul)","source":"@site/docs/aws-blast-performance-testing/cost-analysis.md","sourceDirName":"aws-blast-performance-testing","slug":"/aws-blast-performance-testing/cost-analysis","permalink":"/docusaurus/aws-blast-performance-testing/cost-analysis","draft":false,"unlisted":false,"editUrl":"https://github.com/aws-wwps-kr-tech/docusaurus/tree/main/docs/aws-blast-performance-testing/cost-analysis.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"\ube44\uc6a9 \ubd84\uc11d (Cost Analysis)","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"\uc544\ud0a4\ud14d\ucc98 \uac1c\uc694","permalink":"/docusaurus/aws-blast-performance-testing/26657"},"next":{"title":"EBS \ucd5c\uc801\ud654 \uc544\ud0a4\ud14d\ucc98 \ud14c\uc2a4\ud2b8 \uacb0\uacfc","permalink":"/docusaurus/aws-blast-performance-testing/ebs"}}');var r=t(4848),d=t(8453);const i={title:"\ube44\uc6a9 \ubd84\uc11d (Cost Analysis)",sidebar_position:2},l="AWS BLAST Performance Testing - Detailed Cost Analysis",c={},h=[{value:"1. Amazon EFS (Elastic File System) Costs",id:"1-amazon-efs-elastic-file-system-costs",level:2},{value:"Storage Configuration",id:"storage-configuration",level:3},{value:"EFS Pricing (ap-northeast-2)",id:"efs-pricing-ap-northeast-2",level:3},{value:"Today&#39;s EFS Usage",id:"todays-efs-usage",level:3},{value:"EFS Cost Breakdown",id:"efs-cost-breakdown",level:3},{value:"Monthly Storage Cost",id:"monthly-storage-cost",level:4},{value:"Today&#39;s Throughput Cost (Read Operations)",id:"todays-throughput-cost-read-operations",level:4},{value:"Total EFS Cost (Today)",id:"total-efs-cost-today",level:4},{value:"2. Amazon S3 Costs",id:"2-amazon-s3-costs",level:2},{value:"S3 Bucket Configuration",id:"s3-bucket-configuration",level:3},{value:"S3 Objects Detail",id:"s3-objects-detail",level:3},{value:"S3 Pricing (ap-northeast-2)",id:"s3-pricing-ap-northeast-2",level:3},{value:"S3 Cost Breakdown",id:"s3-cost-breakdown",level:3},{value:"Monthly Storage Cost",id:"monthly-storage-cost-1",level:4},{value:"Today&#39;s Request Costs (Estimated)",id:"todays-request-costs-estimated",level:4},{value:"Data Transfer",id:"data-transfer",level:4},{value:"Total S3 Cost (Today)",id:"total-s3-cost-today",level:4},{value:"3. Amazon EC2 Costs (via AWS Batch)",id:"3-amazon-ec2-costs-via-aws-batch",level:2},{value:"Instance Configuration",id:"instance-configuration",level:3},{value:"Performance Test Execution Costs",id:"performance-test-execution-costs",level:3},{value:"Cost Calculation Formula",id:"cost-calculation-formula",level:3},{value:"4. AWS API Costs",id:"4-aws-api-costs",level:2},{value:"AWS Batch API",id:"aws-batch-api",level:3},{value:"CloudWatch Logs",id:"cloudwatch-logs",level:3},{value:"CloudWatch Metrics",id:"cloudwatch-metrics",level:3},{value:"Other API Costs",id:"other-api-costs",level:3},{value:"5. Total Cost Summary (Today&#39;s Performance Test)",id:"5-total-cost-summary-todays-performance-test",level:2},{value:"Direct Costs",id:"direct-costs",level:3},{value:"Cost Distribution",id:"cost-distribution",level:3},{value:"6. Per-Sequence Cost Analysis",id:"6-per-sequence-cost-analysis",level:2},{value:"Key Insight",id:"key-insight",level:3},{value:"7. Cost Optimization Recommendations",id:"7-cost-optimization-recommendations",level:2},{value:"Immediate Optimizations",id:"immediate-optimizations",level:3},{value:"Long-term Optimizations",id:"long-term-optimizations",level:3},{value:"Recommended Architecture for Production",id:"recommended-architecture-for-production",level:3},{value:"8. Monthly Cost Projection",id:"8-monthly-cost-projection",level:2},{value:"Current Architecture (with EFS Elastic)",id:"current-architecture-with-efs-elastic",level:3},{value:"Optimized Architecture (with EBS)",id:"optimized-architecture-with-ebs",level:3},{value:"Appendix: Pricing References",id:"appendix-pricing-references",level:2}];function o(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"aws-blast-performance-testing---detailed-cost-analysis",children:"AWS BLAST Performance Testing - Detailed Cost Analysis"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Region"}),": ap-northeast-2 (Seoul)"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"1-amazon-efs-elastic-file-system-costs",children:"1. Amazon EFS (Elastic File System) Costs"}),"\n",(0,r.jsx)(s.h3,{id:"storage-configuration",children:"Storage Configuration"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Parameter"}),(0,r.jsx)(s.th,{children:"Value"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"File System ID"}),(0,r.jsx)(s.td,{children:"fs-0d2d032d1cca25f3f"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Name"}),(0,r.jsx)(s.td,{children:"blast-perf-test-efs-nt-db"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Total Size"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.strong,{children:"254.32 GB"})," (273,049,319,424 bytes)"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Storage Class"}),(0,r.jsx)(s.td,{children:"Standard"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Throughput Mode"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Elastic"})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Performance Mode"}),(0,r.jsx)(s.td,{children:"General Purpose"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Encrypted"}),(0,r.jsx)(s.td,{children:"Yes (KMS)"})]})]})]}),"\n",(0,r.jsx)(s.h3,{id:"efs-pricing-ap-northeast-2",children:"EFS Pricing (ap-northeast-2)"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Cost Type"}),(0,r.jsx)(s.th,{children:"Price"}),(0,r.jsx)(s.th,{children:"Unit"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Standard Storage"}),(0,r.jsx)(s.td,{children:"$0.36"}),(0,r.jsx)(s.td,{children:"per GB-month"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Elastic Throughput - Read"}),(0,r.jsx)(s.td,{children:"$0.043"}),(0,r.jsx)(s.td,{children:"per GB transferred"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Elastic Throughput - Write"}),(0,r.jsx)(s.td,{children:"$0.086"}),(0,r.jsx)(s.td,{children:"per GB transferred"})]})]})]}),"\n",(0,r.jsx)(s.h3,{id:"todays-efs-usage",children:"Today's EFS Usage"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Metric"}),(0,r.jsx)(s.th,{children:"Value"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Data Read"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.strong,{children:"1,635.61 GB"})," (1,756,004,236,096 bytes)"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Data Write"}),(0,r.jsx)(s.td,{children:"~0 GB"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Total I/O"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.strong,{children:"1,635.66 GB"})," (1,756,058,129,368 bytes)"]})]})]})]}),"\n",(0,r.jsx)(s.h3,{id:"efs-cost-breakdown",children:"EFS Cost Breakdown"}),"\n",(0,r.jsx)(s.h4,{id:"monthly-storage-cost",children:"Monthly Storage Cost"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"254.32 GB x $0.36/GB = $91.56/month\nDaily: $91.56 / 30 = $3.05/day\n"})}),"\n",(0,r.jsx)(s.h4,{id:"todays-throughput-cost-read-operations",children:"Today's Throughput Cost (Read Operations)"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"1,635.61 GB x $0.043/GB = $70.33\n"})}),"\n",(0,r.jsx)(s.h4,{id:"total-efs-cost-today",children:"Total EFS Cost (Today)"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Component"}),(0,r.jsx)(s.th,{children:"Cost"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Storage (daily)"}),(0,r.jsx)(s.td,{children:"$3.05"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Read Throughput"}),(0,r.jsx)(s.td,{children:"$70.33"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Write Throughput"}),(0,r.jsx)(s.td,{children:"~$0"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Total"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"$73.38"})})]})]})]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"2-amazon-s3-costs",children:"2. Amazon S3 Costs"}),"\n",(0,r.jsx)(s.h3,{id:"s3-bucket-configuration",children:"S3 Bucket Configuration"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Parameter"}),(0,r.jsx)(s.th,{children:"Value"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Bucket Name"}),(0,r.jsx)(s.td,{children:"blast-perf-test-queries-664263524008"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Total Size"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)(s.strong,{children:"236.05 MB"})," (247,421,178 bytes)"]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Storage Class"}),(0,r.jsx)(s.td,{children:"Standard"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Number of Objects"}),(0,r.jsx)(s.td,{children:"10"})]})]})]}),"\n",(0,r.jsx)(s.h3,{id:"s3-objects-detail",children:"S3 Objects Detail"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"File"}),(0,r.jsx)(s.th,{children:"Size"}),(0,r.jsx)(s.th,{children:"Purpose"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"queries/query.fasta"}),(0,r.jsx)(s.td,{children:"75 KB"}),(0,r.jsx)(s.td,{children:"Original query (500 seqs)"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"queries/query_5000.fasta"}),(0,r.jsx)(s.td,{children:"755 KB"}),(0,r.jsx)(s.td,{children:"5,000 sequences"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"queries/query_50000.fasta"}),(0,r.jsx)(s.td,{children:"7.4 MB"}),(0,r.jsx)(s.td,{children:"50,000 sequences"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"queries/query_500000.fasta"}),(0,r.jsx)(s.td,{children:"73.7 MB"}),(0,r.jsx)(s.td,{children:"500,000 sequences"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"results/* (6 files)"}),(0,r.jsx)(s.td,{children:"154 MB"}),(0,r.jsx)(s.td,{children:"BLAST output files"})]})]})]}),"\n",(0,r.jsx)(s.h3,{id:"s3-pricing-ap-northeast-2",children:"S3 Pricing (ap-northeast-2)"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Cost Type"}),(0,r.jsx)(s.th,{children:"Price"}),(0,r.jsx)(s.th,{children:"Unit"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Standard Storage"}),(0,r.jsx)(s.td,{children:"$0.025"}),(0,r.jsx)(s.td,{children:"per GB-month"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"PUT/COPY/POST/LIST"}),(0,r.jsx)(s.td,{children:"$0.0045"}),(0,r.jsx)(s.td,{children:"per 1,000 requests"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"GET/SELECT"}),(0,r.jsx)(s.td,{children:"$0.0004"}),(0,r.jsx)(s.td,{children:"per 1,000 requests"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Data Transfer (to Internet)"}),(0,r.jsx)(s.td,{children:"$0.126"}),(0,r.jsx)(s.td,{children:"per GB (after 100GB free)"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Data Transfer (to Same Region)"}),(0,r.jsx)(s.td,{children:"$0.00"}),(0,r.jsx)(s.td,{children:"Free"})]})]})]}),"\n",(0,r.jsx)(s.h3,{id:"s3-cost-breakdown",children:"S3 Cost Breakdown"}),"\n",(0,r.jsx)(s.h4,{id:"monthly-storage-cost-1",children:"Monthly Storage Cost"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"0.236 GB x $0.025/GB = $0.006/month (~$0.0002/day)\n"})}),"\n",(0,r.jsx)(s.h4,{id:"todays-request-costs-estimated",children:"Today's Request Costs (Estimated)"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Request Type"}),(0,r.jsx)(s.th,{children:"Count"}),(0,r.jsx)(s.th,{children:"Cost"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"PUT (uploads)"}),(0,r.jsx)(s.td,{children:"~10"}),(0,r.jsx)(s.td,{children:"$0.000045"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"GET (downloads by Batch)"}),(0,r.jsx)(s.td,{children:"~8"}),(0,r.jsx)(s.td,{children:"$0.0000032"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"LIST"}),(0,r.jsx)(s.td,{children:"~20"}),(0,r.jsx)(s.td,{children:"$0.00009"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Total Requests"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"~38"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"$0.00014"})})]})]})]}),"\n",(0,r.jsx)(s.h4,{id:"data-transfer",children:"Data Transfer"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["S3 to EC2 (same region): ",(0,r.jsx)(s.strong,{children:"Free"})]}),"\n",(0,r.jsxs)(s.li,{children:["EC2 to S3 (same region): ",(0,r.jsx)(s.strong,{children:"Free"})]}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"total-s3-cost-today",children:"Total S3 Cost (Today)"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Component"}),(0,r.jsx)(s.th,{children:"Cost"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Storage (daily)"}),(0,r.jsx)(s.td,{children:"$0.0002"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"API Requests"}),(0,r.jsx)(s.td,{children:"$0.0001"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Data Transfer"}),(0,r.jsx)(s.td,{children:"$0.00"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Total"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"< $0.01"})})]})]})]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"3-amazon-ec2-costs-via-aws-batch",children:"3. Amazon EC2 Costs (via AWS Batch)"}),"\n",(0,r.jsx)(s.h3,{id:"instance-configuration",children:"Instance Configuration"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Instance Type"}),(0,r.jsx)(s.th,{children:"vCPU"}),(0,r.jsx)(s.th,{children:"Memory"}),(0,r.jsx)(s.th,{children:"On-Demand Price/hr"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"r6i.24xlarge"}),(0,r.jsx)(s.td,{children:"96"}),(0,r.jsx)(s.td,{children:"768 GB"}),(0,r.jsx)(s.td,{children:"$7.776"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"r7i.24xlarge"}),(0,r.jsx)(s.td,{children:"96"}),(0,r.jsx)(s.td,{children:"768 GB"}),(0,r.jsx)(s.td,{children:"$8.1648"})]})]})]}),"\n",(0,r.jsx)(s.h3,{id:"performance-test-execution-costs",children:"Performance Test Execution Costs"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Test"}),(0,r.jsx)(s.th,{children:"Sequences"}),(0,r.jsx)(s.th,{children:"Runtime"}),(0,r.jsx)(s.th,{children:"Instance"}),(0,r.jsx)(s.th,{children:"EC2 Cost"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Test 1"}),(0,r.jsx)(s.td,{children:"500"}),(0,r.jsx)(s.td,{children:"3m 56s"}),(0,r.jsx)(s.td,{children:"r6i.24xlarge"}),(0,r.jsx)(s.td,{children:"$0.51"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Test 2"}),(0,r.jsx)(s.td,{children:"5,000"}),(0,r.jsx)(s.td,{children:"4m 46s"}),(0,r.jsx)(s.td,{children:"r6i.24xlarge"}),(0,r.jsx)(s.td,{children:"$0.62"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Test 3"}),(0,r.jsx)(s.td,{children:"50,000"}),(0,r.jsx)(s.td,{children:"5m 59s"}),(0,r.jsx)(s.td,{children:"r6i.24xlarge"}),(0,r.jsx)(s.td,{children:"$0.78"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Test 4"}),(0,r.jsx)(s.td,{children:"500,000"}),(0,r.jsx)(s.td,{children:"25m 9s"}),(0,r.jsx)(s.td,{children:"r6i.24xlarge"}),(0,r.jsx)(s.td,{children:"$3.27"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Total"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"555,500"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"~40m"})}),(0,r.jsx)(s.td,{}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"$5.18"})})]})]})]}),"\n",(0,r.jsx)(s.h3,{id:"cost-calculation-formula",children:"Cost Calculation Formula"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"EC2 Cost = (Runtime in hours) x (Hourly rate)\nExample: 3m 56s = 0.0656 hours x $7.776 = $0.51\n"})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"4-aws-api-costs",children:"4. AWS API Costs"}),"\n",(0,r.jsx)(s.h3,{id:"aws-batch-api",children:"AWS Batch API"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Cost"}),": Free (no charge for Batch API calls)"]}),"\n",(0,r.jsx)(s.li,{children:"Usage: Job submission, status checks, describe operations"}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"cloudwatch-logs",children:"CloudWatch Logs"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Component"}),(0,r.jsx)(s.th,{children:"Cost"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Log Ingestion"}),(0,r.jsx)(s.td,{children:"$0.76 per GB"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Log Storage"}),(0,r.jsx)(s.td,{children:"$0.0314 per GB-month"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Estimated daily logs"}),(0,r.jsx)(s.td,{children:"~10 MB"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Daily Cost"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"~$0.008"})})]})]})]}),"\n",(0,r.jsx)(s.h3,{id:"cloudwatch-metrics",children:"CloudWatch Metrics"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Basic Metrics"}),": Free (EC2, EFS, S3 standard metrics)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Custom Metrics"}),": Not used"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"other-api-costs",children:"Other API Costs"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Service"}),(0,r.jsx)(s.th,{children:"Cost"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"IAM API"}),(0,r.jsx)(s.td,{children:"Free"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"EC2 API"}),(0,r.jsx)(s.td,{children:"Free"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"EFS API"}),(0,r.jsx)(s.td,{children:"Free"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"S3 API"}),(0,r.jsx)(s.td,{children:"Included in request costs"})]})]})]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"5-total-cost-summary-todays-performance-test",children:"5. Total Cost Summary (Today's Performance Test)"}),"\n",(0,r.jsx)(s.h3,{id:"direct-costs",children:"Direct Costs"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Service"}),(0,r.jsx)(s.th,{children:"Cost"}),(0,r.jsx)(s.th,{children:"Notes"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"EC2 (Batch)"}),(0,r.jsx)(s.td,{children:"$5.18"}),(0,r.jsx)(s.td,{children:"4 jobs, ~40 min total"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"EFS Storage"}),(0,r.jsx)(s.td,{children:"$3.05"}),(0,r.jsx)(s.td,{children:"Daily portion of $91.56/month"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"EFS Throughput"}),(0,r.jsx)(s.td,{children:"$70.33"}),(0,r.jsx)(s.td,{children:"1.6 TB read (BLAST DB)"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"S3 Storage"}),(0,r.jsx)(s.td,{children:"< $0.01"}),(0,r.jsx)(s.td,{children:"236 MB"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"S3 Requests"}),(0,r.jsx)(s.td,{children:"< $0.01"}),(0,r.jsx)(s.td,{children:"~38 requests"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"CloudWatch"}),(0,r.jsx)(s.td,{children:"~$0.01"}),(0,r.jsx)(s.td,{children:"Logs & metrics"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Total Direct"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"$78.57"})}),(0,r.jsx)(s.td,{})]})]})]}),"\n",(0,r.jsx)(s.h3,{id:"cost-distribution",children:"Cost Distribution"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"EFS Throughput:   89.5% ($70.33)\nEC2 Compute:       6.6% ($5.18)\nEFS Storage:       3.9% ($3.05)\nOther:             0.0% ($0.01)\n"})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"6-per-sequence-cost-analysis",children:"6. Per-Sequence Cost Analysis"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Sequences"}),(0,r.jsx)(s.th,{children:"Total Cost*"}),(0,r.jsx)(s.th,{children:"Cost per 1,000 Seqs"}),(0,r.jsx)(s.th,{children:"EFS Read per Job"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"500"}),(0,r.jsx)(s.td,{children:"$18.11"}),(0,r.jsx)(s.td,{children:"$36.22"}),(0,r.jsx)(s.td,{children:"~400 GB"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"5,000"}),(0,r.jsx)(s.td,{children:"$18.22"}),(0,r.jsx)(s.td,{children:"$3.64"}),(0,r.jsx)(s.td,{children:"~400 GB"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"50,000"}),(0,r.jsx)(s.td,{children:"$18.38"}),(0,r.jsx)(s.td,{children:"$0.37"}),(0,r.jsx)(s.td,{children:"~400 GB"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"500,000"}),(0,r.jsx)(s.td,{children:"$20.87"}),(0,r.jsx)(s.td,{children:"$0.04"}),(0,r.jsx)(s.td,{children:"~435 GB"})]})]})]}),"\n",(0,r.jsx)(s.p,{children:"*Includes estimated EFS read costs (~$17.60 per job for ~409 GB average read)"}),"\n",(0,r.jsx)(s.h3,{id:"key-insight",children:"Key Insight"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"EFS throughput is the dominant cost"})," (89% of total)"]}),"\n",(0,r.jsx)(s.li,{children:"Each BLAST job reads ~400+ GB from EFS (database loading + search)"}),"\n",(0,r.jsx)(s.li,{children:"EC2 compute cost is relatively small (6.6%)"}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"7-cost-optimization-recommendations",children:"7. Cost Optimization Recommendations"}),"\n",(0,r.jsx)(s.h3,{id:"immediate-optimizations",children:"Immediate Optimizations"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"EFS Throughput Mode"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Current: Elastic ($0.043/GB read)"}),"\n",(0,r.jsx)(s.li,{children:"Alternative: Provisioned Throughput"}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Savings"}),": If consistent usage, provisioned may be cheaper"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Database Caching Strategy"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Use instance store or EBS for frequently accessed DB portions"}),"\n",(0,r.jsx)(s.li,{children:"Potential savings: 50-70% on EFS throughput"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Batch Job Consolidation"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Run multiple query files in single job"}),"\n",(0,r.jsx)(s.li,{children:"Amortize database loading cost across more sequences"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"long-term-optimizations",children:"Long-term Optimizations"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Strategy"}),(0,r.jsx)(s.th,{children:"Potential Savings"}),(0,r.jsx)(s.th,{children:"Complexity"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Use Spot Instances"}),(0,r.jsx)(s.td,{children:"60-80% on EC2"}),(0,r.jsx)(s.td,{children:"Low"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"EBS-backed BLAST DB"}),(0,r.jsx)(s.td,{children:"70%+ on storage I/O"}),(0,r.jsx)(s.td,{children:"Medium"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Smaller instance types"}),(0,r.jsx)(s.td,{children:"Variable"}),(0,r.jsx)(s.td,{children:"Low"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Reserved Instances"}),(0,r.jsx)(s.td,{children:"30-50% on EC2"}),(0,r.jsx)(s.td,{children:"Medium"})]})]})]}),"\n",(0,r.jsx)(s.h3,{id:"recommended-architecture-for-production",children:"Recommended Architecture for Production"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"                    +---------------------+\n                    |   EBS Snapshot      |\n                    |   (BLAST Database)  |\n                    +----------+----------+\n                               | Attach on launch\n                               v\n+-------------+    +---------------------+\n| S3 (queries)|---\u2192|  EC2 Spot Instance  |\n+-------------+    |  + EBS Volume       |\n                   |  (local DB copy)    |\n                   +----------+----------+\n                              |\n                              v\n                   +---------------------+\n                   |   S3 (results)      |\n                   +---------------------+\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Estimated savings with EBS"}),": $70+ per day (eliminating EFS throughput)"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"8-monthly-cost-projection",children:"8. Monthly Cost Projection"}),"\n",(0,r.jsx)(s.h3,{id:"current-architecture-with-efs-elastic",children:"Current Architecture (with EFS Elastic)"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Component"}),(0,r.jsx)(s.th,{children:"Monthly Cost"}),(0,r.jsx)(s.th,{children:"Assumptions"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"EFS Storage"}),(0,r.jsx)(s.td,{children:"$91.56"}),(0,r.jsx)(s.td,{children:"254 GB Standard"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"EFS Throughput"}),(0,r.jsx)(s.td,{children:"$2,110+"}),(0,r.jsx)(s.td,{children:"50 TB read/month"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"EC2 (Batch)"}),(0,r.jsx)(s.td,{children:"$155+"}),(0,r.jsx)(s.td,{children:"~20 hours/month"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"S3"}),(0,r.jsx)(s.td,{children:"< $1"}),(0,r.jsx)(s.td,{children:"Minimal storage"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Total"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"~$2,360/month"})}),(0,r.jsx)(s.td,{})]})]})]}),"\n",(0,r.jsx)(s.h3,{id:"optimized-architecture-with-ebs",children:"Optimized Architecture (with EBS)"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Component"}),(0,r.jsx)(s.th,{children:"Monthly Cost"}),(0,r.jsx)(s.th,{children:"Assumptions"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"EBS Snapshot"}),(0,r.jsx)(s.td,{children:"$12.70"}),(0,r.jsx)(s.td,{children:"254 GB @ $0.05/GB"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"EBS Volume Usage"}),(0,r.jsx)(s.td,{children:"~$50"}),(0,r.jsx)(s.td,{children:"Attached during jobs"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"EC2 Spot"}),(0,r.jsx)(s.td,{children:"$31+"}),(0,r.jsx)(s.td,{children:"60% savings"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"S3"}),(0,r.jsx)(s.td,{children:"< $1"}),(0,r.jsx)(s.td,{})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"Total"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.strong,{children:"~$95/month"})}),(0,r.jsx)(s.td,{})]})]})]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Potential Monthly Savings: ~$2,265 (96%)"})}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"appendix-pricing-references",children:"Appendix: Pricing References"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"https://aws.amazon.com/efs/pricing/",children:"EFS Pricing (ap-northeast-2)"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"https://aws.amazon.com/s3/pricing/",children:"S3 Pricing (ap-northeast-2)"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"https://aws.amazon.com/ec2/pricing/on-demand/",children:"EC2 Pricing (ap-northeast-2)"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"https://aws.amazon.com/cloudwatch/pricing/",children:"CloudWatch Pricing"})}),"\n"]})]})}function a(e={}){const{wrapper:s}={...(0,d.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},8453(e,s,t){t.d(s,{R:()=>i,x:()=>l});var n=t(6540);const r={},d=n.createContext(r);function i(e){const s=n.useContext(d);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),n.createElement(d.Provider,{value:s},e.children)}}}]);