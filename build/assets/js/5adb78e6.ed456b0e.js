"use strict";(globalThis.webpackChunkaws_ps_tech_docs=globalThis.webpackChunkaws_ps_tech_docs||[]).push([[67],{5356(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"aws/d61e4","title":"\uae30\ubcf8 \ubd84\uc11d \uc218\ud589\ud558\uae30 (\uc635\uc158)","description":"Bacterial Genome data \ubd84\uc11d","source":"@site/docs/aws/d61e4.md","sourceDirName":"aws","slug":"/aws/d61e4","permalink":"/docusaurus/aws/d61e4","draft":false,"unlisted":false,"editUrl":"https://github.com/aws-wwps-kr-tech/docusaurus/tree/main/docs/aws/d61e4.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"title":"\uae30\ubcf8 \ubd84\uc11d \uc218\ud589\ud558\uae30 (\uc635\uc158)","sidebar_position":7},"sidebar":"tutorialSidebar","previous":{"title":"AMI\ub85c \uc27d\uac8c \ub9ac\ub205\uc2a4 \uba38\uc2e0 \uc14b\uc5c5\ud558\uae30","permalink":"/docusaurus/aws/ami-gwl"},"next":{"title":"AWS CLI","permalink":"/docusaurus/aws/aws-cli"}}');var t=s(4848),i=s(8453);const o={title:"\uae30\ubcf8 \ubd84\uc11d \uc218\ud589\ud558\uae30 (\uc635\uc158)",sidebar_position:7},a=void 0,c={},d=[{value:"Bacterial Genome data \ubd84\uc11d",id:"bacterial-genome-data-\ubd84\uc11d",level:2}];function l(e){const n={a:"a",br:"br",code:"code",em:"em",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"bacterial-genome-data-\ubd84\uc11d",children:"Bacterial Genome data \ubd84\uc11d"}),"\n",(0,t.jsx)(n.p,{children:"\uc774\uc81c \uba87 \uac00\uc9c0 \uc0d8\ud50c \ucf54\ub4dc\ub97c \uc2e4\ud589\ud574 \ubcf4\uaca0\uc2b5\ub2c8\ub2e4."}),"\n",(0,t.jsxs)(n.p,{children:["*",(0,t.jsxs)(n.em,{children:[(0,t.jsx)(n.a,{href:"https://bio-bwa.sourceforge.net/",children:"bwa"}),", ",(0,t.jsx)(n.a,{href:"http://www.htslib.org/",children:"samtools"})," \ub3c4\uad6c\uac00 \uc124\uce58\ub418\uc5b4 \uc788\ub294\uc9c0 \ud655\uc778\ud574\ubcf4\uaca0\uc2b5\ub2c8\ub2e4.*"]})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"which bwa\n"})}),"\n",(0,t.jsx)(n.p,{children:"\ucd9c\ub825\uc5d0\ub294 bwa\uac00 \uc124\uce58\ub41c \uc704\uce58\uac00 \ud45c\uc2dc\ub429\ub2c8\ub2e4."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"which samtools\n"})}),"\n",(0,t.jsx)(n.p,{children:"\ucd9c\ub825\uc5d0\ub294 samtools\uac00 \uc124\uce58\ub41c \uc704\uce58\uac00 \ud45c\uc2dc\ub429\ub2c8\ub2e4."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Basic Bacterial Genome Sequence Analysis"})}),"\n",(0,t.jsx)(n.p,{children:"1. Get a reference sequence:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"mkdir -p /tmp/outbreaks/SG-M1\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"cd /tmp/outbreaks/SG-M1\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"wget ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCF/001/275/545/GCF_001275545.2_ASM127554v2/GCF_001275545.2_ASM127554v2_genomic.fna.gz\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"gunzip GCF_001275545.2_ASM127554v2_genomic.fna.gz\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"mv GCF_001275545.2_ASM127554v2_genomic.fna SG-M1.fna\n"})}),"\n",(0,t.jsxs)(n.p,{children:["2. Map and call SNPs:",(0,t.jsx)(n.br,{}),"\n",(0,t.jsx)(n.strong,{children:"Note:"})," For an annotation of the programs used below and other bioinformatics tools, check out our course ",(0,t.jsx)(n.a,{href:"https://github.com/swainechen/chenlab-training",children:"github page"}),"."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Reference indexing"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"bwa index SG-M1.fna\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Mapping"}),"\\"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"bwa mem SG-M1.fna /tmp/fastq/SRR6327950/SRR6327950_1.fastq.gz /tmp/fastq/SRR6327950/SRR6327950_2.fastq.gz | samtools view -bS - > SRR6327950.bam\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"BAM Sorting"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"samtools sort SRR6327950.bam -o SRR6327950-sort.bam\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"BAM Indexing"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"samtools index SRR6327950-sort.bam\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Variant calling"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"lofreq faidx SG-M1.fna\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"lofreq call -f SG-M1.fna -r NZ_CP012419.2:400000-500000 SRR6327950-sort.bam > SRR6327950-400k.vcf\n"})}),"\n",(0,t.jsx)(n.p,{children:"Mapping takes ~5 min on a t2.medium. Sorting takes ~2 min. Running lofreq on this limited section of the genome takes ~1 min."}),"\n",(0,t.jsx)(n.p,{children:"3. Assembly (runs ~4 min then will run out of RAM if you're on a t2.medium):"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"spades.py -t 2 -1 /tmp/fastq/SRR6327950/SRR6327950_1.fastq.gz -2 /tmp/fastq/SRR6327950/SRR6327950_2.fastq.gz -o SRR6327950_spades\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"NOTE"}),": This assembly above will complete on a t3a.large and takes about 5 hours."]}),"\n",(0,t.jsx)(n.p,{children:"\ud6cc\ub96d\ud569\ub2c8\ub2e4! \uc774 \uc791\uc5c5\uc740 AWS EC2 \uc778\uc2a4\ud134\uc2a4\uc5d0\uc11c \uc27d\uac8c \uc2e4\ud589\ud560 \uc218 \uc788\ub294 \ub9e4\uc6b0 \uc77c\uc0c1\uc801\uc778 \uc791\uc5c5\uc785\ub2c8\ub2e4. 3\ub2e8\uacc4\uc5d0\uc11c \uc5b4\uc148\ube14\ub9ac\ub97c \uc218\ud589\ud560 \ub54c \uacbd\ud5d8\ud588\ub4ef\uc774, \uc791\uc5c5\uc5d0 \uc801\ud569\ud55c \uba38\uc2e0\uc744 \uc120\ud0dd\ud558\ub294 \uac83\uc740 \ub9e4\uc6b0 \uc911\uc694\ud569\ub2c8\ub2e4. RAM\uc774\ub098 \ub514\uc2a4\ud06c \uacf5\uac04\uc774 \ubd80\uc871\ud558\uba74 \uc791\uc5c5\uc774 \uc911\ub2e8\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub2e4\ud589\ud788\ub3c4 \uc778\uc2a4\ud134\uc2a4 \uc720\ud615\uc744 \ubcc0\uacbd\ud558\uac70\ub098 \ub2e4\ub978 EBS \ubcfc\ub968\uc744 \uba38\uc2e0\uc5d0 \uc5f0\uacb0\ud558\uba74 \uc774\ub7ec\ud55c \ubb38\uc81c\ub97c \uc27d\uac8c \ud574\uacb0\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},8453(e,n,s){s.d(n,{R:()=>o,x:()=>a});var r=s(6540);const t={},i=r.createContext(t);function o(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);