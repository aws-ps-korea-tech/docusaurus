"use strict";(globalThis.webpackChunkaws_ps_tech_docs=globalThis.webpackChunkaws_ps_tech_docs||[]).push([[4689],{1143(e,n,s){s.d(n,{A:()=>o});const o=s.p+"assets/images/screenshot-2024-04-13-at-8-20-53-pm-77d4f8eba16a4aadbb0bbbe645355b1f.png"},2481(e,n,s){s.d(n,{A:()=>o});const o=s.p+"assets/images/screenshot-2024-04-12-at-10-46-06-pm-copy-fe6d865e771f74444fe2c050da356d34.png"},4904(e,n,s){s.d(n,{A:()=>o});const o=s.p+"assets/images/screenshot-2024-04-12-at-10-54-35-pm-fc9527dafefa4be7b531d0abbfe174b6.png"},5572(e,n,s){s.d(n,{A:()=>o});const o=s.p+"assets/images/screenshot-2024-04-13-at-8-19-45-pm-ce4620e7a6d956f67d04620ecf4f26fc.png"},5897(e,n,s){s.d(n,{A:()=>o});const o=s.p+"assets/images/screenshot-2024-04-12-at-10-46-19-pm-copy-e507d024cb5ffafe4a5e89332cd24a5c.png"},7198(e,n,s){s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>o,toc:()=>r});const o=JSON.parse('{"id":"omics-on-aws/amazon-genomics-cli-vDj","title":"Amazon Genomics CLI - \ud578\uc988\uc628 \uac00\uc774\ub4dc","description":"\uc5ec\uae30\uc11c\ub294 Amazon Genomics CLI (\uc774\ud558 AGC)\ub97c \uac04\ub2e8\ud788 AWS Cloud9 \uc5d0\uc11c \uc138\ud305\ud558\uace0, \uc2e4\ud589\ud558\ub294 \ubc29\ubc95\uc744 \uc548\ub0b4\ud569\ub2c8\ub2e4.","source":"@site/docs/omics-on-aws/amazon-genomics-cli-vDj.md","sourceDirName":"omics-on-aws","slug":"/omics-on-aws/amazon-genomics-cli-vDj","permalink":"/docusaurus/omics-on-aws/amazon-genomics-cli-vDj","draft":false,"unlisted":false,"editUrl":"https://github.com/aws-wwps-kr-tech/docusaurus/tree/main/docs/omics-on-aws/amazon-genomics-cli-vDj.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"Amazon Genomics CLI - \ud578\uc988\uc628 \uac00\uc774\ub4dc","sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Store multimodal data with purpose-built Health AI services","permalink":"/docusaurus/omics-on-aws/store-multimodal-data-with-purpose-built-health-ai-services"},"next":{"title":"Example code","permalink":"/docusaurus/omics-on-aws/example-code"}}');var c=s(4848),i=s(8453);const t={title:"Amazon Genomics CLI - \ud578\uc988\uc628 \uac00\uc774\ub4dc",sidebar_position:3},l=void 0,a={},r=[{value:"AWS Cloud9\uc5d0\uc11c Nextflow \ud658\uacbd \uc138\ud305",id:"aws-cloud9\uc5d0\uc11c-nextflow-\ud658\uacbd-\uc138\ud305",level:3},{value:"AGC \uc124\uce58 (\ucc38\uace0)",id:"agc-\uc124\uce58-\ucc38\uace0",level:4},{value:"AGC \uc0ac\uc6a9\uc744 \uc704\ud55c Provisoning",id:"agc-\uc0ac\uc6a9\uc744-\uc704\ud55c-provisoning",level:4},{value:"\uc2e4\ud589\ud558\uae30",id:"\uc2e4\ud589\ud558\uae30",level:3},{value:"Hello World",id:"hello-world",level:4},{value:"\uc6cc\ud06c\ud50c\ub85c\uc6b0 \uacb0\uacfc \ud655\uc778",id:"\uc6cc\ud06c\ud50c\ub85c\uc6b0-\uacb0\uacfc-\ud655\uc778",level:4},{value:"Cleaning Up",id:"cleaning-up",level:3},{value:"**\uc5ec\uae30\uc11c \ubb38\uc81c!\xa0**",id:"\uc5ec\uae30\uc11c-\ubb38\uc81c",level:3}];function d(e){const n={a:"a",code:"code",em:"em",h3:"h3",h4:"h4",img:"img",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.p,{children:"\uc5ec\uae30\uc11c\ub294 Amazon Genomics CLI (\uc774\ud558 AGC)\ub97c \uac04\ub2e8\ud788 AWS Cloud9 \uc5d0\uc11c \uc138\ud305\ud558\uace0, \uc2e4\ud589\ud558\ub294 \ubc29\ubc95\uc744 \uc548\ub0b4\ud569\ub2c8\ub2e4."}),"\n",(0,c.jsx)(n.h3,{id:"aws-cloud9\uc5d0\uc11c-nextflow-\ud658\uacbd-\uc138\ud305",children:"AWS Cloud9\uc5d0\uc11c Nextflow \ud658\uacbd \uc138\ud305"}),"\n",(0,c.jsx)(n.p,{children:"\uc544\ub798\uc640 \uac19\uc774 \ubaa9\uc801\uc5d0 \ub9de\ub294 Cloud9 \ud658\uacbd\uc744 \uc138\ud305\ud569\ub2c8\ub2e4."}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.img,{alt:"\uc774\ubbf8\uc9c0",src:s(2481).A+"",width:"857",height:"1094"}),(0,c.jsx)(n.img,{alt:"\uc774\ubbf8\uc9c0",src:s(5897).A+"",width:"1116",height:"665"})]}),"\n",(0,c.jsx)(n.p,{children:"\ub9cc\ub4e4\uc5b4\uc9c4 Cloud9 \ud658\uacbd\uc744 \uc811\uc18d\ud569\ub2c8\ub2e4."}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.img,{alt:"\uc774\ubbf8\uc9c0",src:s(7674).A+"",width:"454",height:"306"})}),"\n",(0,c.jsxs)(n.h4,{id:"agc-\uc124\uce58-\ucc38\uace0",children:["AGC \uc124\uce58 (",(0,c.jsx)(n.a,{href:"https://aws.github.io/amazon-genomics-cli/docs/getting-started/installation/",children:"\ucc38\uace0"}),")"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:" aws s3api get-object --bucket healthai-public-assets-us-east-1 --key amazon-genomics-cli/nightly-build/amazon-genomics-cli.zip amazon-genomics-cli.zip\n"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.img,{alt:"\uc774\ubbf8\uc9c0",src:s(4904).A+"",width:"1584",height:"201"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"unzip amazon-genomics-cli.zip\ncd amazon-genomics-cli/\n./install.sh\n"})}),"\n",(0,c.jsx)(n.p,{children:"\uc124\uce58 \ud655\uc778"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"agc --help\n"})}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"agc --version\n"})}),"\n",(0,c.jsx)(n.h4,{id:"agc-\uc0ac\uc6a9\uc744-\uc704\ud55c-provisoning",children:"AGC \uc0ac\uc6a9\uc744 \uc704\ud55c Provisoning"}),"\n",(0,c.jsx)(n.p,{children:"\uc544\ub798 \uba85\ub839\uc5b4\ub97c \uc0ac\uc6a9\ud574 agc\uc0ac\uc6a9\uc744 \uc704\ud574 AWS \uacc4\uc815\uc5d0 \ud544\uc694\ud55c \uc790\uc6d0\uc744 provisoning\ud569\ub2c8\ub2e4.\xa0"}),"\n",(0,c.jsx)(n.p,{children:"\uc774\ub807\uac8c \ud558\uba74 DynamoDB \ud14c\uc774\ube14, S3 \ubc84\ud0b7 \ubc0f VPC\ub97c \ud3ec\ud568\ud558\uc5ec Amazon Genomics CLI\uac00 \uc791\ub3d9\ud558\ub294 \ub370 \ud544\uc694\ud55c \ud575\uc2ec \uc778\ud504\ub77c\uac00 \uc0dd\uc131\ub429\ub2c8\ub2e4. \uc774 \uc791\uc5c5\uc740 \uc644\ub8cc\ud558\ub294 \ub370 \uc57d 5\ubd84 \uc815\ub3c4 \uc18c\uc694\ub429\ub2c8\ub2e4. \uc774 \uc791\uc5c5\uc740 \uacc4\uc815 \ub9ac\uc804\ub2f9 \ud55c \ubc88\ub9cc \uc218\ud589\ud558\uba74 \ub429\ub2c8\ub2e4."}),"\n",(0,c.jsxs)(n.p,{children:["DynamoDB \ud14c\uc774\ube14\uc740 CLI\uc5d0\uc11c \uc601\uad6c \uc0c1\ud0dc\uc5d0 \uc0ac\uc6a9\ub429\ub2c8\ub2e4. S3 \ubc84\ud0b7\uc740 \uc601\uad6c \uc6cc\ud06c\ud50c\ub85c\uc6b0 \ub370\uc774\ud130 \ubc0f Amazon Genomics CLI \uba54\ud0c0\ub370\uc774\ud130\uc5d0 \uc0ac\uc6a9\ub418\uba70, VPC\ub294 \ucef4\ud4e8\ud305 \ub9ac\uc18c\uc2a4\ub97c \uaca9\ub9ac\ud558\ub294 \ub370 \uc0ac\uc6a9\ub429\ub2c8\ub2e4. \ud544\uc694\ud55c \uacbd\uc6b0 ",(0,c.jsx)(n.code,{children:"--bucket"})," \ubc0f ",(0,c.jsx)(n.code,{children:"--vpc"})," \uc635\uc158\uc744 \uc0ac\uc6a9\ud558\uc5ec \uae30\uc874 S3 \ubc84\ud0b7 \ub610\ub294 VPC\ub97c \uc9c1\uc811 \uc9c0\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"agc account activate\n"})}),"\n",(0,c.jsx)(n.p,{children:"\uc815\uc0c1\uc801\uc73c\ub85c \uc644\ub8cc\ub418\uc5c8\ub2e4\uba74 AWS CloudFormation\uc5d0\uc11c \ud655\uc778\ud560 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.img,{alt:"\uc774\ubbf8\uc9c0",src:s(7326).A+"",width:"1614",height:"610"})}),"\n",(0,c.jsx)(n.p,{children:"\uc774\uba54\uc77c\uc744 \uc138\ud305\ud574\uc90d\ub2c8\ub2e4."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:" agc configure email you@youremail.com\n"})}),"\n",(0,c.jsx)(n.h3,{id:"\uc2e4\ud589\ud558\uae30",children:"\uc2e4\ud589\ud558\uae30"}),"\n",(0,c.jsx)(n.h4,{id:"hello-world",children:"Hello World"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"cd ~/environment/amazon-genomics-cli/examples/demo-wdl-project/\nagc context deploy --context myContext\nagc workflow run hello --context myContext\n"})}),"\n",(0,c.jsx)(n.p,{children:"Check status"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"agc workflow status -r \n"})}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.img,{alt:"\uc774\ubbf8\uc9c0",src:s(5572).A+"",width:"2762",height:"146"})}),"\n",(0,c.jsx)(n.p,{children:"AWS Batch \uc5d0\uc11c\ub3c4 Job\uc744 \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.img,{alt:"\uc774\ubbf8\uc9c0",src:s(1143).A+"",width:"1680",height:"642"})}),"\n",(0,c.jsx)(n.h4,{id:"\uc6cc\ud06c\ud50c\ub85c\uc6b0-\uacb0\uacfc-\ud655\uc778",children:"\uc6cc\ud06c\ud50c\ub85c\uc6b0 \uacb0\uacfc \ud655\uc778"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"AGC_BUCKET=$(aws ssm get-parameter \\\n    --name /agc/_common/bucket \\\n    --query 'Parameter.Value' \\\n    --output text)\n"})}),"\n",(0,c.jsxs)(n.p,{children:["\xa0",(0,c.jsx)(n.code,{children:"aws s3"})," \uba85\ub839\uc5b4\ub97c \uc0ac\uc6a9\ud574 \ub370\uc774\ud130\ub97c \ud655\uc778\ud574\ubcf4\uc138\uc694."]}),"\n",(0,c.jsx)(n.p,{children:"Workflow \ucd9c\ub825\uc740 \ub2e4\uc74c\uacfc \uac19\uc744 \uac83\uc785\ub2c8\ub2e4.\xa0"}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.code,{children:"s3://agc--/project//userid//context//workflow//"})}),"\n",(0,c.jsx)(n.p,{children:"\ub098\uba38\uc9c0 \uacbd\ub85c\ub294 \uc6cc\ud06c\ud50c\ub85c\uc6b0\ub97c \uc2e4\ud589\ud558\ub294\ub370 \uc0ac\uc6a9\ub418\ub294 \uc5d4\uc9c4\uc5d0 \ub530\ub77c \uc870\uae08\uc529 \ub2e4\ub97c \uc218 \uc788\uc2b5\ub2c8\ub2e4. Cromwell \uc758 \uacbd\uc6b0\ub77c\uba74 \ub2e4\uc74c\uacfc \uac19\uc744 \uac83\uc785\ub2c8\ub2e4."}),"\n",(0,c.jsxs)(n.p,{children:["\xa0",(0,c.jsx)(n.code,{children:".../cromwell-execution///"})]}),"\n",(0,c.jsx)(n.p,{children:"\uc6cc\ud06c\ud50c\ub85c\uc6b0 \uacb0\uacfc\uc5d0 \ub300\ud574 \uc870\ud68c\ud558\ub294 \uba85\ub839\uc5b4\ub294 \ub2e4\uc74c\uacfc \uac19\uc2b5\ub2c8\ub2e4."}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"agc workflow output \n"})}),"\n",(0,c.jsxs)(n.p,{children:["You can also obtain task logs for a workflow using the following form ",(0,c.jsx)(n.code,{children:"agc logs workflow  -r "}),"."]}),"\n",(0,c.jsx)(n.p,{children:"\uc608\ub97c\ub4e4\uc5b4 \ub2e4\uc74c\uacfc \uac19\uc2b5\ub2c8\ub2e4."}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.code,{children:"agc logs workflow hello -r fa167bdf-3b68-425b-8193-778fb8a19784 \xa0--all-tasks"})}),"\n",(0,c.jsx)(n.h3,{id:"cleaning-up",children:"Cleaning Up"}),"\n",(0,c.jsxs)(n.p,{children:["Once you are done with\xa0",(0,c.jsx)(n.code,{children:"myContext"})," you can destroy it with:"]}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"agc context destroy myContext\n"})}),"\n",(0,c.jsx)(n.p,{children:"This will remove the cloud resources associated with the named context, but will keep any S3 outputs and CloudWatch logs. If you want stop using Amazon Genomics CLI in your AWS account entirely, you need to deactivate it:"}),"\n",(0,c.jsx)(n.p,{children:"code-toolbar\ntoolbar\n\\"}),"\n",(0,c.jsxs)(n.p,{children:["This will remove Amazon Genomics CLI's core infrastructure. If Amazon Genomics CLI created a VPC as part of the activate process, it will be ",(0,c.jsx)(n.em,{children:"removed"}),". If Amazon Genomics CLI created an S3 bucket for you, it will be ",(0,c.jsx)(n.em,{children:"retained"}),"."]}),"\n",(0,c.jsx)(n.p,{children:"To uninstall Amazon Genomics CLI from your local machine, run the following command"}),"\n",(0,c.jsx)(n.pre,{children:(0,c.jsx)(n.code,{children:"./agc/uninstall.sh\n"})}),"\n",(0,c.jsxs)(n.p,{children:["Note uninstalling the CLI will ",(0,c.jsx)(n.em,{children:"not"})," remove any resources or persistent data from your AWS account."]}),"\n",(0,c.jsx)(n.h3,{id:"\uc5ec\uae30\uc11c-\ubb38\uc81c",children:"**\uc5ec\uae30\uc11c \ubb38\uc81c!\xa0**"}),"\n",(0,c.jsx)(n.p,{children:"gatk-best-pratices-project/gatk4-germline-snps-indels \ud3f4\ub354\uc758 \uc6cc\ud06c\ud50c\ub85c\uc6b0\ub97c \uc2e4\ud589\ud574\ubcf4\uc138\uc694."}),"\n",(0,c.jsx)(n.p,{children:(0,c.jsx)(n.em,{children:(0,c.jsx)(n.strong,{children:"Hint: \uc785\ub825\ud30c\uc77c \ubc0f Context\ub97c \uba3c\uc800 \ud655\uc778\ud574\ubcf4\uc138\uc694."})})}),"\n",(0,c.jsx)(n.p,{children:"\uc815\ub2f5"}),"\n",(0,c.jsx)(n.p,{children:"cd ~/environment/amazon-genomics-cli/examples/gatk-best-practices-project/gatk4-germline-snps-indels\xa0"}),"\n",(0,c.jsx)(n.p,{children:"agc context deploy -c onDemandCtx"}),"\n",(0,c.jsx)(n.p,{children:"agc workflow run gatk4-germline-snps-indels --context onDemandCtx"})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(d,{...e})}):d(e)}},7326(e,n,s){s.d(n,{A:()=>o});const o=s.p+"assets/images/screenshot-2024-04-12-at-11-15-39-pm-01d8260d208fc0beed8e80a1b024ded5.png"},7674(e,n,s){s.d(n,{A:()=>o});const o=s.p+"assets/images/screenshot-2024-04-12-at-10-50-46-pm-6adcd4a9895220cd84edb40ccfc47ac8.png"},8453(e,n,s){s.d(n,{R:()=>t,x:()=>l});var o=s(6540);const c={},i=o.createContext(c);function t(e){const n=o.useContext(i);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:t(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);