"use strict";(globalThis.webpackChunkaws_ps_tech_docs=globalThis.webpackChunkaws_ps_tech_docs||[]).push([[7482],{617(s,e,n){n.d(e,{A:()=>r});const r=n.p+"assets/images/screenshot-2023-09-27-at-1-30-49-pm-6a15a475b7ef508d151c330ebac86fdd.png"},6360(s,e,n){n.d(e,{A:()=>r});const r=n.p+"assets/images/screenshot-2023-09-27-at-11-45-33-am-4d41a9913322f880c64bd7420d8e52d0.png"},6736(s,e,n){n.d(e,{A:()=>r});const r=n.p+"assets/images/screenshot-2023-10-07-at-1-06-55-am-bf7a4128a9b4a0d98852d9d3c9e779cc.png"},6966(s,e,n){n.r(e),n.d(e,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>i,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"aws/40008","title":"\ub370\uc774\ud130 \ub2e4\uc6b4\ub85c\ub4dc \uc2e4\uc2b5","description":"\uc2e4\uc2b5 \ub370\uc774\ud130 \uc18c\uac1c","source":"@site/docs/aws/40008.md","sourceDirName":"aws","slug":"/aws/40008","permalink":"/docusaurus/en/aws/40008","draft":false,"unlisted":false,"editUrl":"https://github.com/aws-wwps-kr-tech/docusaurus/tree/main/docs/aws/40008.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"title":"\ub370\uc774\ud130 \ub2e4\uc6b4\ub85c\ub4dc \uc2e4\uc2b5","sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"\uc6cc\ud06c\uc0f5 \uc2dc\uc791 \uc804 \uc900\ube44\uc0ac\ud56d","permalink":"/docusaurus/en/aws/d2dde"},"next":{"title":"EC2\ub85c\ubd80\ud130 \uc774\ubbf8\uc9c0 (AMI) \uc0dd\uc131","permalink":"/docusaurus/en/aws/ec2-ami"}}');var t=n(4848),a=n(8453);const i={title:"\ub370\uc774\ud130 \ub2e4\uc6b4\ub85c\ub4dc \uc2e4\uc2b5",sidebar_position:6},c=void 0,d={},o=[{value:"\uc2e4\uc2b5 \ub370\uc774\ud130 \uc18c\uac1c",id:"\uc2e4\uc2b5-\ub370\uc774\ud130-\uc18c\uac1c",level:2},{value:"\uc2e4\uc2b5 \ub370\uc774\ud130 \uc900\ube44",id:"\uc2e4\uc2b5-\ub370\uc774\ud130-\uc900\ube44",level:2}];function l(s){const e={a:"a",br:"br",code:"code",h2:"h2",img:"img",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...s.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h2,{id:"\uc2e4\uc2b5-\ub370\uc774\ud130-\uc18c\uac1c",children:"\uc2e4\uc2b5 \ub370\uc774\ud130 \uc18c\uac1c"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.img,{alt:"\uc774\ubbf8\uc9c0",src:n(6360).A+"",width:"2362",height:"1476"}),(0,t.jsx)(e.a,{href:"https://www.ncbi.nlm.nih.gov/sra/docs/sra-data-formats/",children:"SRA Lite \ud3ec\uba67\uc5d0 \ub300\ud55c \uc124\uba85"})]}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{alt:"\uc774\ubbf8\uc9c0",src:n(7573).A+"",width:"4126",height:"1502"})}),"\n",(0,t.jsxs)(e.p,{children:["\uc544\ub798 \uc2e4\uc2b5\uc744 \ud558\ub294 \ud658\uacbd\uc744 \ub2e4\uc2dc \uc124\uba85\ud558\uc790\uba74, Cloud9 \ud658\uacbd(EC2 \uc778\uc2a4\ud134\uc2a4)\uc5d0\uc11c \ub2e4\ub978 EC2 \uc778\uc2a4\ud134\uc2a4\ub85c SSH \ud615\ud0dc\ub85c \uc811\uc18d\ud55c \ud658\uacbd\uc785\ub2c8\ub2e4. (",(0,t.jsx)(e.a,{href:"https://www.aws-ps-tech.kr/link/7#bkmrk-ssh-into-an-ec2-inst",children:"SSH \ub97c \ud1b5\ud55c EC2 \uc778\uc2a4\ud134\uc2a4 \uc811\uc18d"}),")\\"]}),"\n",(0,t.jsx)(e.h2,{id:"\uc2e4\uc2b5-\ub370\uc774\ud130-\uc900\ube44",children:"\uc2e4\uc2b5 \ub370\uc774\ud130 \uc900\ube44"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"\ub2e4\uc6b4\ub85c\ub4dc"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"cd /mnt/volume1\nwget https://sra-downloadb.be-md.ncbi.nlm.nih.gov/sos5/sra-pub-zq-14/SRR006/327/SRR6327875.sralite.1\n"})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"R1, R2 \ud30c\uc77c\ub85c \ucd94\ucd9c"})}),"\n",(0,t.jsx)(e.p,{children:"\ucc38\uace0: c5.4xlarge \uc778\uc2a4\ud134\uc2a4\uc5d0\uc11c \uc544\ub798 \uba85\ub839\uc5b4\ub294 6\ubd84 30\ucd08 \uc815\ub3c4 \uc18c\uc694\ub418\uc5c8\uc2b5\ub2c8\ub2e4.\\"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"fastq-dump --split-files --gzip SRR6327875.sralite.1\n"})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"Registory of Open Data on AWS \uc0ac\uc6a9\ud574\ubcf4\uae30"})}),"\n",(0,t.jsxs)(e.p,{children:["SRR6327875 \ub370\uc774\ud130\ub97c\xa0",(0,t.jsx)(e.a,{href:"https://registry.opendata.aws/",children:"Registry of Open Data on AWS"}),"\uc5d0\uc11c \ub9c8\ucc2c\uac00\uc9c0\ub85c \ub2e4\uc6b4\ub85c\ub4dc \ubc1b\ub294 \ubc29\ubc95\ub3c4 \uc788\uc2b5\ub2c8\ub2e4. fastqerq-dump\uc5d0 \ub300\ud574 \ub354 \uc54c\uc544\ubcf4\uace0 \uc2f6\ub2e4\uba74 ",(0,t.jsx)(e.a,{href:"https://github.com/ncbi/sra-tools/wiki/HowTo:-fasterq-dump",children:"\uc5ec\uae30"}),"\ub97c \ucc38\uace0\ud574\uc8fc\uc138\uc694.\\"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"mkdir -p /tmp/fastq/SRR6327875\ncd /tmp/fastq/SRR6327875\n\n# note here the --no-sign-request makes an anonymous request to this public S3 bucket\naws s3 sync --no-sign-request s3://sra-pub-run-odp/sra/SRR6327875/ /tmp/fastq/SRR6327875/\n\n# convert the sra formatted file to fastq, then gzip them and clean up\nfasterq-dump ./SRR6327875\ngzip SRR6327875_1.fastq\ngzip SRR6327875_2.fastq\nrm -f SRR6327875\n"})}),"\n",(0,t.jsxs)(e.p,{children:["download failed: s3://sra-pub-run-odp/sra/SRR6327875/SRR6327875 to ./SRR6327875 [Errno 28] No space left on device",(0,t.jsx)(e.br,{}),"\n","\uc704\uc640 \uac19\uc740 \uc5d0\ub7ec\uac00 \ub098\uba74 df -h \ub85c \ud604\uc7ac \ub2e4\uc6b4\ub85c\ub4dc \ubc1b\uace0\uc790 \ud558\ub294 \uacbd\ub85c\uc758 \uc6a9\ub7c9\uc744 \ud655\uc778\ud574\ubcf4\uc138\uc694. \uadf8\ub9ac\uace0 /tmp \uacbd\ub85c\uac00 \uc544\ub2cc \uc6a9\ub7c9\uc774 \ucda9\ubd84\ud55c \ub514\ub809\ud1a0\ub9ac\ub85c \uc774\ub3d9\ud574\uc11c \ub2e4\uc2dc \ub2e4\uc6b4\ub85c\ub4dc \ubc1b\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"\uc5ec\uae30\uc11c \ubb38\uc81c!"}),(0,t.jsx)(e.br,{}),"\n",(0,t.jsx)(e.br,{}),"\n","SRR6327950 \uc0d8\ud50c\uc5d0 \ub300\ud55c \uac83\ub3c4 \uc704\uc640 \uac19\uc774 \ub3d9\uc77c\ud558\uac8c \ub2e4\uc6b4\ub85c\ub4dc \ubc1b\uc544\ubcf4\uc138\uc694. \uc774 \ub2e4\uc6b4\ub85c\ub4dc\uac00 \uc131\uacf5\ud574\uc57c \ub2e4\uc74c \uc120\ud0dd \uc2e4\uc2b5\uc778 ",(0,t.jsx)(e.a,{href:"https://www.aws-ps-tech.kr/books/aws/page/d61e4",children:"\uae30\ubcf8 \ubd84\uc11d \uc218\ud589\ud558\uae30"}),"\ub97c \uc9c4\ud589\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,t.jsx)(e.p,{children:"(Optional) AWS CLI\ub85c Amazon S3 \uc0ac\uc6a9\ud574\ubcf4\uae30"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"\ubc84\ud0b7 \uc0dd\uc131"})}),"\n",(0,t.jsxs)(e.p,{children:["\uc774\ub54c\xa0 ",(0,t.jsx)(e.code,{children:"--bucket"})," \uc758 \uac12\uc73c\ub85c\ub294 \uc784\uc758\ub85c \ubc84\ud0b7\uc744 \uc0dd\uc131\ud558\uac8c \ub429\ub2c8\ub2e4. \ub2e8, \uc804\uc138\uacc4 S3 \uc0ac\uc6a9\uc790 \ub204\uad70\uac00\uac00 \uc774\ubbf8 \uc0ac\uc6a9\uc911\uc778 \ubc84\ud0b7\uba85\uc740 \uc0ac\uc6a9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."]}),"\n",(0,t.jsxs)(e.p,{children:["\uc5ec\uae30\uc11c\ub294 ",(0,t.jsx)(e.code,{children:"brandon-20230927"})," \ub85c \uc608\ub97c \ub4e4\uc5c8\uc2b5\ub2c8\ub2e4."]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"aws s3api create-bucket \\\n    --bucket  \\\n    --region us-east-1\n"})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"AWS \uacc4\uc815 \ub0b4 \uc0dd\uc131\ub41c \ubc84\ud0b7 \ud655\uc778"})}),"\n",(0,t.jsx)(e.p,{children:"\uc0dd\uc131\ub41c \ubc84\ud0b7\uc740 S3 \ucf58\uc194\uc5d0\uc11c\ub3c4 \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4 (\ube0c\ub77c\uc6b0\uc800\uc758 AWS \ucf58\uc194\uc5d0\uc11c S3 \ub85c \uac80\uc0c9\ud558\uace0 \uc120\ud0dd)"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{alt:"\uc774\ubbf8\uc9c0",src:n(617).A+"",width:"1680",height:"496"})}),"\n",(0,t.jsx)(e.h2,{id:""}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"S3\ub85c \ub370\uc774\ud130 \ubcf5\uc0ac"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"aws s3 cp SRR6327875.sralite.1_1.fastq.gz s3:///raw/SRR6327875_1.fastq.gz\naws s3 cp SRR6327875.sralite.1_2.fastq.gz s3:///raw/SRR6327875_2.fastq.gz\n"})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"\ucc38\uace0. \ub9ce\uc740 \ud30c\uc77c\uc744 \ub2e4\ub8f0 \ub54c \uc790\uc8fc \uc0ac\uc6a9\ud558\ub294 AWS S3 CLI \uba85\ub839\uc5b4"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"1) S3\uc758 \ud3f4\ub354 \ub0b4\uc6a9 \uc870\ud68c (\uc8fc\uc758: recursive \uc55e\uc5d0 \ub9c8\uc774\ub108\uc2a4 \uae30\ud638(-) 2\uac1c \uc0ac\uc6a9)\n  . aws s3 ls\n  . aws s3 ls s3://aws-lab-james\n  . aws s3 ls --recursive s3://aws-lab-james\n \n2) local \ud3f4\ub354\ub97c \uc11c\ube0c\ud3f4\ub354\uae4c\uc9c0 s3\ub85c upload\n  . aws s3 cp --recursive ./video/ s3://aws-lab-james/video/\n \n3) s3 \uc5d0\uc11c local \ud3f4\ub354\ub85c \uc11c\ube0c\ud3f4\ub354\uae4c\uc9c0 download\n  . aws s3 cp --recursive s3://aws-lab-james/video/ ./video/\n \n4) local \ud3f4\ub354\uc758 \ub0b4\uc6a9\uc744 \uc11c\ube0c\ud3f4\ub354\uae4c\uc9c0 s3\ub85c \ubcc0\uacbd\ub41c \ud30c\uc77c\ub9cc upload (cp \uc640 \ub2e4\ub974\uac8c \ubcc0\uacbd\ub41c \ud30c\uc77c\ub9cc upload\ud569\ub2c8\ub2e4. \uc0ad\uc81c\ub294 \ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4)\n  . aws s3 sync ./video/ s3://aws-lab-james/video/\n \n5) s3\uc5d0\uc11c local \ud3f4\ub354\ub85c \uc11c\ube0c\ud3f4\ub354\uae4c\uc9c0 \ubcc0\uacbd\ub41c \ud30c\uc77c\ub9cc download (cp \uc640 \ub2e4\ub974\uac8c \ubcc0\uacbd\ub41c \ud30c\uc77c\ub9cc download \ud569\ub2c8\ub2e4. \uc0ad\uc81c\ub294 \ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4)\n  . aws s3 sync s3://aws-lab-james/video/ ./video/\n"})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"S3 \ubc84\ud0b7\uc5d0\uc11c \ub370\uc774\ud130 \ub2e4\uc6b4\ub85c\ub4dc"})}),"\n",(0,t.jsx)(e.p,{children:"\uc774\uc81c \uacf5\uc720 S3 \ubc84\ud0b7\uc5d0 \uc561\uc138\uc2a4\ud560 \uc218 \uc788\uc73c\ubbc0\ub85c S3 \ubc84\ud0b7\uc5d0\uc11c \uc0ac\uc6a9\uc790 \ucef4\ud4e8\ud130\ub85c \ub370\uc774\ud130\ub97c \ub2e4\uc6b4\ub85c\ub4dc\ud569\ub2c8\ub2e4."}),"\n",(0,t.jsx)(e.p,{children:"1. \uba3c\uc800 S3 \ubc84\ud0b7\uc5d0 \ud3f4\ub354\ub97c \ub098\uc5f4\ud569\ub2c8\ub2e4:"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"aws s3 ls s3:///raw/SRR6327875_1.fastq.gz --region us-east-1\n"})}),"\n",(0,t.jsxs)(e.p,{children:["\uc608) ",(0,t.jsx)(e.code,{children:"aws s3 ls s3://brandon-20230927/raw/SRR6327875_1.fastq.gz --region us-east-1"})]}),"\n",(0,t.jsx)(e.p,{children:"\uc774\uc81c \uc774 \ud3f4\ub354 \ub0b4\uc758 \ud2b9\uc815 \uc704\uce58\uc5d0\uc11c \ucef4\ud4e8\ud130\ub85c \ud30c\uc77c\uc744 \ubcf5\uc0ac\ud558\uaca0\uc2b5\ub2c8\ub2e4.\xa0\uadf8 \uc804\uc5d0 \uc774 \ub370\uc774\ud130\ub97c \uc800\uc7a5\ud560 \ub514\ub809\ud130\ub9ac\ub97c \ucef4\ud4e8\ud130\uc5d0 \ub9cc\ub4e4\uc5b4 \ubcf4\uaca0\uc2b5\ub2c8\ub2e4."}),"\n",(0,t.jsx)(e.p,{children:"2. \ub2e4\uc74c \uba85\ub839\uc744 \uc2e4\ud589\ud558\uc5ec \ub370\uc774\ud130\ub97c \uc800\uc7a5\ud560 \ub514\ub809\ud130\ub9ac\ub97c \ub9cc\ub4e4\uace0 \ud574\ub2f9 \ub514\ub809\ud130\ub9ac\ub85c \ubcf5\uc0ac\ud569\ub2c8\ub2e4"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"mkdir -p /tmp/fastq/SRR6327875\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"cd /tmp/fastq/SRR6327875\n"})}),"\n",(0,t.jsx)(e.p,{children:"3. AWS CLI \uba85\ub839\uc5b4\ub97c \uc774\uc6a9\ud574 S3 bucket\uc5d0\uc11c \uc0c8\ub85c\uc6b4 \ub514\ub809\ud1a0\ub9ac\ub85c \ub370\uc774\ud130\ub97c \ub2e4\uc6b4\ub85c\ub4dc\ud569\ub2c8\ub2e4."}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"aws s3 cp s3:///raw/SRR6327875_1.fastq.gz .\n"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"aws s3 cp s3:///raw/SRR6327875_2.fastq.gz . --region us-east-1\n"})}),"\n",(0,t.jsx)(e.p,{children:"4. MD5 checksum\uc744 \ud1b5\ud574 \uc6d0\ubcf8 \ud30c\uc77c\uacfc S3\uc5d0\uc11c \ub2e4\uc6b4\ub85c\ub4dc\ud55c \ub370\uc774\ud130\ub97c \ube44\uad50\ud574\ubcfc \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"md5sum *.fastq.gz\n"})}),"\n",(0,t.jsx)(e.p,{children:"\uc608)\\"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.img,{alt:"\uc774\ubbf8\uc9c0",src:n(6736).A+"",width:"1114",height:"214"})}),"\n",(0,t.jsxs)(e.p,{children:["5. S3\uc758 NCBI SRA repository (",(0,t.jsx)(e.a,{href:"https://registry.opendata.aws/ncbi-sra/",children:"Registry of Open Data on AWS"}),")\ub97c \uc0ac\uc6a9\ud558\uc5ec \ub2e4\ub978 \ub370\uc774\ud130 \uc138\ud2b8\ub97c \ub2e4\uc6b4\ub85c\ub4dc\ud569\ub2c8\ub2e4:"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"mkdir -p /tmp/fastq/SRR6327950\ncd /tmp/fastq/SRR6327950\n\n# note here the --no-sign-request makes an anonymous request to this public S3 bucket\naws s3 sync --no-sign-request s3://sra-pub-run-odp/sra/SRR6327950/ /tmp/fastq/SRR6327950/\n\n# convert the sra formatted file to fastq, then gzip them and clean up\nfasterq-dump ./SRR6327950\n\ngzip SRR6327950_1.fastq\ngzip SRR6327950_2.fastq\nrm -f SRR6327950\n"})}),"\n",(0,t.jsx)(e.p,{children:"\uc774\uc81c \uba87 \uac00\uc9c0 \ub370\uc774\ud130 \ubd84\uc11d\uc744 \uc2e4\ud589\ud560 \uc900\ube44\uac00 \ub418\uc5c8\uc2b5\ub2c8\ub2e4."}),"\n",(0,t.jsx)(e.h2,{id:"-1"}),"\n",(0,t.jsx)(e.p,{children:"\\"})]})}function p(s={}){const{wrapper:e}={...(0,a.R)(),...s.components};return e?(0,t.jsx)(e,{...s,children:(0,t.jsx)(l,{...s})}):l(s)}},7573(s,e,n){n.d(e,{A:()=>r});const r=n.p+"assets/images/screenshot-2023-09-27-at-11-44-42-am-1e1d5c73f6820e33d01bbf3c8f51e572.png"},8453(s,e,n){n.d(e,{R:()=>i,x:()=>c});var r=n(6540);const t={},a=r.createContext(t);function i(s){const e=r.useContext(a);return r.useMemo(function(){return"function"==typeof s?s(e):{...e,...s}},[e,s])}function c(s){let e;return e=s.disableParentContext?"function"==typeof s.components?s.components(t):s.components||t:i(s.components),r.createElement(a.Provider,{value:e},s.children)}}}]);