<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-omics-on-aws/nf-core-spatialvi" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Nf-core 워크플로우 마이그레이션 하기 (spatialvi) | AWS PS Tech Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://aws-wwps-kr-tech.github.io/docusaurus/en/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://aws-wwps-kr-tech.github.io/docusaurus/en/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://aws-wwps-kr-tech.github.io/docusaurus/en/omics-on-aws/nf-core-spatialvi"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="ko"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Nf-core 워크플로우 마이그레이션 하기 (spatialvi) | AWS PS Tech Docs"><meta data-rh="true" name="description" content="2025년 5월 22일 현재 dev 버전 branch에서 테스트 되었습니다."><meta data-rh="true" property="og:description" content="2025년 5월 22일 현재 dev 버전 branch에서 테스트 되었습니다."><link data-rh="true" rel="icon" href="/docusaurus/en/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://aws-wwps-kr-tech.github.io/docusaurus/en/omics-on-aws/nf-core-spatialvi"><link data-rh="true" rel="alternate" href="https://aws-wwps-kr-tech.github.io/docusaurus/omics-on-aws/nf-core-spatialvi" hreflang="ko"><link data-rh="true" rel="alternate" href="https://aws-wwps-kr-tech.github.io/docusaurus/en/omics-on-aws/nf-core-spatialvi" hreflang="en"><link data-rh="true" rel="alternate" href="https://aws-wwps-kr-tech.github.io/docusaurus/omics-on-aws/nf-core-spatialvi" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Nf-core 워크플로우 마이그레이션 하기 (spatialvi)","item":"https://aws-wwps-kr-tech.github.io/docusaurus/en/omics-on-aws/nf-core-spatialvi"}]}</script><link rel="stylesheet" href="/docusaurus/en/assets/css/styles.c0aa031c.css">
<script src="/docusaurus/en/assets/js/runtime~main.9653f405.js" defer="defer"></script>
<script src="/docusaurus/en/assets/js/main.6801b236.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docusaurus/en/"><div class="navbar__logo"><img src="/docusaurus/en/img/logo.svg" alt="AWS Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/docusaurus/en/img/logo.svg" alt="AWS Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">AWS PS Tech</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docusaurus/en/amazon-s3/s3-select">Amazon S3</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docusaurus/en/aws/">AWS 길라잡이</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docusaurus/en/omics-on-aws/aws-healthomics">Omics on AWS</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docusaurus/en/aws-batch/tagging-w-nextflow">AWS Batch</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docusaurus/en/aws-blast-performance-testing/26657">BLAST Testing</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docusaurus/en/">전체 문서</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/aws-wwps-kr-tech/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docusaurus/en/"><span title="문서 홈" class="linkLabel_WmDU">문서 홈</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docusaurus/en/amazon-s3/s3-select"><span title="Amazon S3" class="categoryLinkLabel_W154">Amazon S3</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docusaurus/en/aws/"><span title="대학 고객을 위한 AWS 길라잡이" class="categoryLinkLabel_W154">대학 고객을 위한 AWS 길라잡이</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docusaurus/en/omics-on-aws/aws-healthomics"><span title="Omics on AWS" class="categoryLinkLabel_W154">Omics on AWS</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus/en/omics-on-aws/aws-healthomics"><span title="AWS HealthOmics 소개 및 주요 링크" class="linkLabel_WmDU">AWS HealthOmics 소개 및 주요 링크</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus/en/omics-on-aws/nf-core-scrnaseq"><span title="Nf-core 워크플로우 마이그레이션 하기 (scrnaseq)" class="linkLabel_WmDU">Nf-core 워크플로우 마이그레이션 하기 (scrnaseq)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus/en/omics-on-aws/nf-core-rnaseq"><span title="Nf-core 워크플로우 마이그레이션 하기 (rnaseq)" class="linkLabel_WmDU">Nf-core 워크플로우 마이그레이션 하기 (rnaseq)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docusaurus/en/omics-on-aws/nf-core-spatialvi"><span title="Nf-core 워크플로우 마이그레이션 하기 (spatialvi)" class="linkLabel_WmDU">Nf-core 워크플로우 마이그레이션 하기 (spatialvi)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus/en/omics-on-aws/wdl-hifi-human-wgs-wdl"><span title="WDL 워크플로우 마이그레이션 하기 (HiFi-human-WGS-WDL)" class="linkLabel_WmDU">WDL 워크플로우 마이그레이션 하기 (HiFi-human-WGS-WDL)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus/en/omics-on-aws/aws-healthomics-fastq-to-vcf-annotation"><span title="AWS HealthOmics로 유전체 분석 (Fastq to VCF, Annotation) 자동화하기" class="linkLabel_WmDU">AWS HealthOmics로 유전체 분석 (Fastq to VCF, Annotation) 자동화하기</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus/en/omics-on-aws/aws-healthomics-storage"><span title="AWS HealthOmics - Storage" class="linkLabel_WmDU">AWS HealthOmics - Storage</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus/en/omics-on-aws/aws-healthomics-annotation"><span title="AWS HealthOmics에서 Annotation 작업 수행하기" class="linkLabel_WmDU">AWS HealthOmics에서 Annotation 작업 수행하기</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus/en/omics-on-aws/aws-healthomics-troubleshooting"><span title="AWS HealthOmics - Troubleshooting" class="linkLabel_WmDU">AWS HealthOmics - Troubleshooting</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus/en/omics-on-aws/65b9e"><span title="소개 및 실습 준비" class="linkLabel_WmDU">소개 및 실습 준비</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus/en/omics-on-aws/aws-healthomics-run-analyzer-run-1910249"><span title="AWS HealthOmics Run Analyzer 분석 리포트 (Run: 1910249)" class="linkLabel_WmDU">AWS HealthOmics Run Analyzer 분석 리포트 (Run: 1910249)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus/en/omics-on-aws/amazon-emr-on-ec2"><span title="Amazon EMR on EC2" class="linkLabel_WmDU">Amazon EMR on EC2</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus/en/omics-on-aws/aws-glue"><span title="AWS Glue" class="linkLabel_WmDU">AWS Glue</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus/en/omics-on-aws/hail-with-amazon-emr-notebook"><span title="Hail with Amazon EMR notebook" class="linkLabel_WmDU">Hail with Amazon EMR notebook</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus/en/omics-on-aws/quickstart-hail-korean"><span title="Quickstart Hail (Korean)" class="linkLabel_WmDU">Quickstart Hail (Korean)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus/en/omics-on-aws/quickstart-hail-english"><span title="Quickstart Hail (English)" class="linkLabel_WmDU">Quickstart Hail (English)</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus/en/omics-on-aws/a597e"><span title="몇 가지 기능과 알아둘 것들" class="linkLabel_WmDU">몇 가지 기능과 알아둘 것들</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus/en/omics-on-aws/store-multimodal-data-with-purpose-built-health-ai-services"><span title="Store multimodal data with purpose-built Health AI services" class="linkLabel_WmDU">Store multimodal data with purpose-built Health AI services</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus/en/omics-on-aws/amazon-genomics-cli-vDj"><span title="Amazon Genomics CLI - 핸즈온 가이드" class="linkLabel_WmDU">Amazon Genomics CLI - 핸즈온 가이드</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docusaurus/en/omics-on-aws/example-code"><span title="Example code" class="linkLabel_WmDU">Example code</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docusaurus/en/aws-batch/tagging-w-nextflow"><span title="AWS Batch" class="categoryLinkLabel_W154">AWS Batch</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docusaurus/en/aws-blast-performance-testing/26657"><span title="AWS BLAST Performance Testing" class="categoryLinkLabel_W154">AWS BLAST Performance Testing</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docusaurus/en/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Omics on AWS</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Nf-core 워크플로우 마이그레이션 하기 (spatialvi)</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Nf-core 워크플로우 마이그레이션 하기 (spatialvi)</h1></header><p>2025년 5월 22일 현재 dev 버전 branch에서 테스트 되었습니다.</p>
<p>연구 목적이며 반드시 실제 샘플과 시나리오상에서 개별적으로 결과데이터와 파이프라인 검증을 필요로 할 것입니다.</p>
<p>2025년 5/30일 경 nf-schema 지원을 위한 HealthOmics 업데이트가 예정되어 있습니다. 그전에는 nf-schema를 기존의구 플러그인인 nf-validation으로 변경해야 합니다. 워크플로우 내 코드 수정은 다음을 참고하여 모두 교체해주세요. (<a href="https://github.com/nf-core/spatialvi/compare/dev...hmkim:spatialvi:aho_dev" target="_blank" rel="noopener noreferrer" class="">링크</a>)</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="마이그레이션을-위한-환경-구성">마이그레이션을 위한 환경 구성<a href="#마이그레이션을-위한-환경-구성" class="hash-link" aria-label="Direct link to 마이그레이션을 위한 환경 구성" title="Direct link to 마이그레이션을 위한 환경 구성" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="step1---ec2-기반-환경-구성">Step1 - Ec2 기반 환경 구성<a href="#step1---ec2-기반-환경-구성" class="hash-link" aria-label="Direct link to Step1 - Ec2 기반 환경 구성" title="Direct link to Step1 - Ec2 기반 환경 구성" translate="no">​</a></h3>
<p>Ec2기반이 아닌 CloudShell 기반으로도 세팅할 수 있습니다. (<a href="https://catalog.us-east-1.prod.workshops.aws/workshops/76d4a4ff-fe6f-436a-a1c2-f7ce44bc5d17/en-US/introduction/setting-up-environment/cloudshell-environment" target="_blank" rel="noopener noreferrer" class="">참고</a>) 선호하는 환경에서 작업하세요.</p>
<ul>
<li class="">t2.medium</li>
<li class="">Amazon linux 2023 AMI</li>
<li class="">64 bit x86</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="specify-instance-type-options">Specify instance type options<a href="#specify-instance-type-options" class="hash-link" aria-label="Direct link to Specify instance type options" title="Direct link to Specify instance type options" translate="no">​</a></h4>
<p><img decoding="async" loading="lazy" alt="이미지" src="/docusaurus/en/assets/images/image-3e85724a564dc17aa0100397b901dbbf.png" width="2406" height="314" class="img_ev3q"></p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="generate-key-pairs">Generate key pairs<a href="#generate-key-pairs" class="hash-link" aria-label="Direct link to Generate key pairs" title="Direct link to Generate key pairs" translate="no">​</a></h4>
<p>If you don&#x27;t already have a key pair then select create keypair</p>
<p><img decoding="async" loading="lazy" alt="이미지" src="/docusaurus/en/assets/images/iI6image-cf54275319634c69aee6fa9783944a4d.png" width="1083" height="180" class="img_ev3q"></p>
<p>Give the key pair a name and select the key pair type and format.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="security-groups">Security groups<a href="#security-groups" class="hash-link" aria-label="Direct link to Security groups" title="Direct link to Security groups" translate="no">​</a></h4>
<p>Ensure that you have access to the instance via SSH.</p>
<p><img decoding="async" loading="lazy" alt="이미지" src="/docusaurus/en/assets/images/E2Oimage-0625f1452b28b37269400b48c15e2542.png" width="1056" height="603" class="img_ev3q"></p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="storage">Storage<a href="#storage" class="hash-link" aria-label="Direct link to Storage" title="Direct link to Storage" translate="no">​</a></h4>
<p>Create a root volume of 20GB</p>
<p><img decoding="async" loading="lazy" alt="이미지" src="/docusaurus/en/assets/images/5r8image-ee7ffb47e2534393215913f8cb4f5ca3.png" width="1051" height="346" class="img_ev3q"></p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="instance-profile">Instance Profile<a href="#instance-profile" class="hash-link" aria-label="Direct link to Instance Profile" title="Direct link to Instance Profile" translate="no">​</a></h4>
<p>We will create an IAM instance profile to allow administrator permissions for the EC2 instance, for the purpose of this workshop. However, in general, AWS security best practices recommendation is that you create an instance profile with least privilege. This configuration is not recommended in your own account, you should discuss organizational best-practices with your IT team to configure appropriate permissions.</p>
<p>Advanced Details 토글 </p>
<p><img decoding="async" loading="lazy" alt="이미지" src="data:image/png;base64,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" width="1106" height="75" class="img_ev3q"></p>
<p>IAM Instance profile에서 Create new IAM profile 선택</p>
<p><img decoding="async" loading="lazy" alt="이미지" src="/docusaurus/en/assets/images/0Egimage-f5ab432d3c4c8b50bd746e343afe14d2.png" width="925" height="203" class="img_ev3q"></p>
<p><strong>AWS service, EC2 선택</strong></p>
<p><img decoding="async" loading="lazy" alt="이미지" src="/docusaurus/en/assets/images/KIdimage-d3693838352efcf30f91578d6b78a0e7.png" width="883" height="948" class="img_ev3q"></p>
<p><strong>Add Permissions 화면에서 AdministratorAccess 추가(선택)</strong></p>
<p><img decoding="async" loading="lazy" alt="이미지" src="/docusaurus/en/assets/images/5Hximage-bdf4028c03fe01b6771d03b92fdfb225.png" width="633" height="332" class="img_ev3q"></p>
<p>새로운 role name을 지정 (여기서는 EC2adminAccess라고 작성했음)</p>
<p><img decoding="async" loading="lazy" alt="이미지" src="/docusaurus/en/assets/images/8Otimage-f14e8eca863e7b97e7cbd9da88044ae4.png" width="697" height="803" class="img_ev3q"></p>
<p><strong>이제 EC2 instance 실행 화면으로 돌아가서 앞에서 만든 EC2adminAccess 선택</strong></p>
<p><img decoding="async" loading="lazy" alt="이미지" src="/docusaurus/en/assets/images/APximage-3e7d514cb343523dffbc6acffc8c1576.png" width="741" height="99" class="img_ev3q"></p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="user-data"><strong>User Data</strong><a href="#user-data" class="hash-link" aria-label="Direct link to user-data" title="Direct link to user-data" translate="no">​</a></h4>
<p><strong>맨 아래의 User data 섹션에 내용 추가</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;Setting up NodeJS Environment&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">curl https://raw.githubusercontent.com/nvm-sh/nvm/v0.34.0/install.sh | bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &#x27;Export NVM_DIR=&quot;/.nvm&quot;&#x27; &gt;&gt; /home/ec2-user/.bashrc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &#x27;[ -s &quot;$NVM_DIR/nvm.sh&quot; ] &amp;&amp; . &quot;$NVM_DIR/nvm.sh&quot;  # This loads nvm&#x27; &gt;&gt; /home/ec2-user/.bashrc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Dot source the files to ensure that variables are available within the current shell</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">. /.nvm/nvm.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">. ~/.bashrc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nvm install --lts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python3 -m ensurepip --upgrade</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip3 install boto3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">npm install -g aws-cdk</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo yum -y install git</span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" alt="이미지" src="/docusaurus/en/assets/images/jQZimage-3fd2f19b6d3b8da2397af3b72340fdfc.png" width="707" height="463" class="img_ev3q"></p>
<p>Launch instance 눌러서 인스턴스 실행</p>
<p><img decoding="async" loading="lazy" alt="이미지" src="/docusaurus/en/assets/images/QyAimage-1e1bd64bfd05bbeff47ed538ab18ea44.png" width="509" height="651" class="img_ev3q"></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="step-2---workflow-migration-code를-세팅하기"><strong>Step 2 - workflow migration code를 세팅하기</strong><a href="#step-2---workflow-migration-code를-세팅하기" class="hash-link" aria-label="Direct link to step-2---workflow-migration-code를-세팅하기" title="Direct link to step-2---workflow-migration-code를-세팅하기" translate="no">​</a></h3>
<p><strong>SSH 접속,</strong> <strong>앞에서 만든 console로 접속합니다.</strong></p>
<p><img decoding="async" loading="lazy" alt="이미지" src="/docusaurus/en/assets/images/2JAimage-fdf9fd7927330599bcaa34491de24fb9.png" width="1562" height="206" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="이미지" src="/docusaurus/en/assets/images/26timage-417255969e91a434028f0dd24ddc78e8.png" width="711" height="489" class="img_ev3q"></p>
<p>Use SSH to access the instance, you will need to ensure the key you created earlier is in the .ssh folder in your home directory and has the correct permissions(chmod 400). You will <strong>need replace</strong> ec2-user@10.11.12.123 with the IP address of your instance. This can be found in the EC2 management console.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ssh -i .ssh/omics-tutorial.pem ec2-user@10.11.12.123</span><br></span></code></pre></div></div>
<p>Get the region using the <code>ec2-metadata command</code>. This handy oneliner stores it as a variable</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">REGION=$(ec2-metadata --availability-zone | sed &#x27;s/placement: \(.*\).$/\1/&#x27;)</span><br></span></code></pre></div></div>
<p>Get the account number (if you don&#x27;t already know it)</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ACCOUNT_NUMBER=$(aws sts get-caller-identity --query &#x27;Account&#x27; --output text)</span><br></span></code></pre></div></div>
<p><strong>Bootstraping</strong></p>
<p>Now you can bootstrap cdk replacing <code>ACCOUNT-NUMBER</code> with your account number nad using the <code>$REGION</code> variable created earlier.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cdk bootstrap aws://$ACCOUNT_NUMBER/$REGION</span><br></span></code></pre></div></div>
<p><strong>Download the workflow migration code</strong></p>
<p>This step downloads the code which is used to migrate the workflow into AWS HealthOmics Workflows</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd ~</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://github.com/aws-samples/amazon-ecr-helper-for-aws-healthomics.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://github.com/aws-samples/aws-healthomics-tutorials.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd amazon-ecr-helper-for-aws-healthomics</span><br></span></code></pre></div></div>
<p>Install and deploy the code.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">npm install</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cdk deploy --all</span><br></span></code></pre></div></div>
<p>MarkdownRenderer-module_markdown__35_09</p>
<p>[<img decoding="async" loading="lazy" src="data:image/svg+xml;base64,PHN2ZyB2aWV3Ym94PSIwIDAgMTYgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgZm9jdXNhYmxlPSJmYWxzZSIgYXJpYS1oaWRkZW49InRydWUiPjxwYXRoIGQ9Ik0xNSA1SDV2MTBoMTBWNVoiIGNsYXNzPSJzdHJva2UtbGluZWpvaW4tcm91bmQiIC8+PHBhdGggZD0iTTEzIDFIMXYxMSIgY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgLz48L3N2Zz4=" alt="이미지" class="img_ev3q">]</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="프로젝트-셋업">프로젝트 셋업<a href="#프로젝트-셋업" class="hash-link" aria-label="Direct link to 프로젝트 셋업" title="Direct link to 프로젝트 셋업" translate="no">​</a></h2>
<p>이제 원하는 nf-core의 워크플로우를 HealthOmics private workflow에 마이그레이션을 하기 위해 다음 과정이 필요합니다.</p>
<ul>
<li class="">Cloning a workflow from nf-core</li>
<li class="">Generating artifacts for migration</li>
<li class="">Privatizing containers by migrating them to your private Amazon ECR \</li>
</ul>
<p><strong>버킷 생성 및 Bash 환경변수 선언</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Export yourbucket=&quot;your-bucket-name&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Export your_account_id=&quot;your-account-id&quot; #ACCOUNT_NUMBER</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Export region=&quot;your-region&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Export workflow_name=&quot;your-workflow-name&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Export omics_role_name=&quot;your_omics_rolename&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># if not exist the bucket, let&#x27;s create.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#aws s3 mb $yourbucket</span><br></span></code></pre></div></div>
<h2></h2>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="clone-nf-core-repository-that-you-want-to-migrate">Clone nf-core repository that you want to migrate<a href="#clone-nf-core-repository-that-you-want-to-migrate" class="hash-link" aria-label="Direct link to Clone nf-core repository that you want to migrate" title="Direct link to Clone nf-core repository that you want to migrate" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd ~</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://github.com/nf-core/spatialvi.git</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="docker-image-manifest의-생성">Docker Image Manifest의 생성<a href="#docker-image-manifest의-생성" class="hash-link" aria-label="Direct link to Docker Image Manifest의 생성" title="Direct link to Docker Image Manifest의 생성" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cp  /home/workshop/amazon-ecr-helper-for-aws-healthomics/lib/lambda/parse-image-uri/public_registry_properties.json namespace.config</span><br></span></code></pre></div></div>
<p>준비된 namespace.config파일의 내용은 다음과 같습니다.</p>
<p><img decoding="async" loading="lazy" alt="이미지" src="/docusaurus/en/assets/images/25bimage-2b0b1bdde4df3bbf895e1e9500e02836.png" width="529" height="346" class="img_ev3q"></p>
<p>This file will be used as one of the inputs for the <code>inspect_nf.py</code> script. This script parses the entire nextflow workflow project and identifies all public docker images across all the tools and generates a manifest which will be passed as an input to the migration tool.</p>
<p><code>inspect_nf.py</code> 를 실행합니다.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">python3 aws-healthomics-tutorials/utils/scripts/inspect_nf.py \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--output-manifest-file spatialvi_dev_docker_images_manifest.json \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> -n namespace.config \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> --output-config-file omics.config \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> --region $region \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ~/spatialvi/</span><br></span></code></pre></div></div>
<p>생성되는 두 개의 출력은 <code>spatialvi_dev_docker_images_manifest.json</code> 과 <code>omics.config</code>입니다.</p>
<p><code>spatialvi_dev_docker_images_manifest.json</code>  파일은 예를들어 다음과 같은 모습이어야 합니다:</p>
<p><img decoding="async" loading="lazy" alt="이미지" src="/docusaurus/en/assets/images/2keimage-6b6bee24dc276bcd01d887b18976f934.png" width="543" height="172" class="img_ev3q"></p>
<p>해당 파일의 내용을 다음과 같이 수정합니다. (기존의 container 주소가 더이상 작동하지 않는 것이 많아서 임의로 공개된 것을 찾아 수정하였습니다, 예를들어 <a href="https://github.com/nf-core/spatialvi/blob/caeb4ff3768e6cba7a45f4a92220e9e9bf4efa28/modules/nf-core/spaceranger/count/main.nf#L5" target="_blank" rel="noopener noreferrer" class="">spaceranger에 대한 컨테이너 주소 quay.io/nf-core/spaceranger:3.1.3</a> 가 작동하지 않아서 dockerhub의 공개 Image로부터 검색하여 대응시켰습니다.</p>
<p>\</p>
<pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"></code></pre>
<p>The omics.config output file is also generated, which needs to be added to the nextflow workflow project. The purpose of this config is to inform nextflow to use the ECR docker image locations instead of the ones specified in the nextflow project code. The omics.config should look like this:</p>
<p><img decoding="async" loading="lazy" alt="이미지" src="/docusaurus/en/assets/images/H6Nimage-3b6521f786cd5f99074e4ac9c252f13f.png" width="618" height="514" class="img_ev3q"></p>
<p><code>omics.config</code> 내용 중 process에 정  의된 내용도 아래와 같이 변경합니다.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">process </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">withName: &#x27;(.+:)?MERGE_SDATA&#x27; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">withName: &#x27;(.+:)?READ_DATA&#x27; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">withName: &#x27;(.+:)?FASTQC&#x27; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">withName: &#x27;(.+:)?MULTIQC&#x27; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">withName: &#x27;(.+:)?QUARTONOTEBOOK&#x27; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">withName: &#x27;(.+:)?SPACERANGER_COUNT&#x27; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">withName: &#x27;(.+:)?UNTAR&#x27; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="컨테이너-사설화-into-amazon-ecr">컨테이너 사설화 (into Amazon ECR)<a href="#컨테이너-사설화-into-amazon-ecr" class="hash-link" aria-label="Direct link to 컨테이너 사설화 (into Amazon ECR)" title="Direct link to 컨테이너 사설화 (into Amazon ECR)" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">aws stepfunctions start-execution \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--state-machine-arn arn:aws:states:$region:$your_account_id:stateMachine:omx-container-puller \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--input file://spatialvi_dev_docker_images_manifest.json</span><br></span></code></pre></div></div>
<p><a href="https://console.aws.amazon.com/states/home" target="_blank" rel="noopener noreferrer" class="">step function 콘솔</a>에서 state machines중에 <code>omx-container-puller</code>를 확인하여 Execution이 완료되었는지 확인합니다.\</p>
<p><img decoding="async" loading="lazy" alt="이미지" src="/docusaurus/en/assets/images/screenshot-2025-04-15-at-3-52-46-pm-14c7d330669f6aef6c3d05c6fba4c993.png" width="2540" height="800" class="img_ev3q"></p>
<p><img decoding="async" loading="lazy" alt="이미지" src="/docusaurus/en/assets/images/24Eimage-388c45fd1841bc82d3ba9c4a492d9042.png" width="1091" height="635" class="img_ev3q"></p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="nf-core-project-코드-업데이트">nf-core project 코드 업데이트<a href="#nf-core-project-코드-업데이트" class="hash-link" aria-label="Direct link to nf-core project 코드 업데이트" title="Direct link to nf-core project 코드 업데이트" translate="no">​</a></h4>
<p>To use the newly migrated containers for our workflow, copy the omics.config generated from inspect_nf.py in the /conf dir of the spatialvi project.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mv omics.config spatialvi/conf</span><br></span></code></pre></div></div>
<p>Update the nextflow.config file in the root dir of the scrnaseq project by adding to the bottom of the file:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;includeConfig &#x27;conf/omics.config&#x27;&quot; &gt;&gt; spatialvi/nextflow.config </span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="-1"><a href="#-1" class="hash-link" aria-label="Direct link to -1" title="Direct link to -1" translate="no">​</a></h2>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="신규-healthomics-워크플로우-만들기">신규 HealthOmics 워크플로우 만들기<a href="#신규-healthomics-워크플로우-만들기" class="hash-link" aria-label="Direct link to 신규 HealthOmics 워크플로우 만들기" title="Direct link to 신규 HealthOmics 워크플로우 만들기" translate="no">​</a></h2>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="단계1-파라미터-파일">단계1. 파라미터 파일<a href="#단계1-파라미터-파일" class="hash-link" aria-label="Direct link to 단계1. 파라미터 파일" title="Direct link to 단계1. 파라미터 파일" translate="no">​</a></h4>
<p><code>parameter-description.json</code>을 만들어 아래와 같이 저장합니다.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cat &gt; parameter-description.json  samplesheet_spaceranger.csv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sample,fastq_dir,cytaimage,slide,area,manual_alignment,slidefile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CytAssist_11mm_FFPE_Human_Glioblastoma_2,s3://$/spatialvi/fastq_dir.tar.gz,s3://$/spatialvi/CytAssist_11mm_FFPE_Human_Glioblastoma_image.tif,V52Y10-317,B1,,s3://$/spatialvi/V52Y10-317.gpr</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EOF</span><br></span></code></pre></div></div>
<p><strong>위에서 만든 samplesheet를 s3로 복사</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">aws s3 cp samplesheet_spaceranger.csv s3://$/spatialvi/samplesheet_spaceranger.csv</span><br></span></code></pre></div></div>
<p><strong>입력 json 만들기 (위 sample sheet경로가 아래 내용중 input에 값으로 들어가게됨)</strong></p>
<p>마찬가지로 probe_set.csv, homo_sapiens_chr22_reference.tar.gz도 모두 버킷에 준비해야합니다.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cat &gt; input.json  omics_workflow_policy.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/*&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;arn:aws:s3aws-genomics-static-$/workflow_migration_workshop/nfcore-scrnaseq-v2.3.0/*&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;arn:aws:s3aws-genomics-static-$/workflow_migration_workshop/nfcore-scrnaseq-v2.3.0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;arn:aws:s3aws-genomics-static-$/workflow_migration_workshop/nfcore-scrnaseq-v2.3.0/*&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        /*&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        :$:log-group:/aws/omics/WorkflowLog:log-stream:*&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        :$:log-group:/aws/omics/WorkflowLog:*&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        :$:repository/*&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EOF</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;omics_workflow_policy.json 파일이 생성되었습니다.&quot;</span><br></span></code></pre></div></div>
<p><code>trust_policy.json</code> 만들기</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cat  trust_policy.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;Action&quot;: &quot;sts:AssumeRole&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;Condition&quot;: &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;ArnLike&quot;: :$:run/*&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">EOF</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;trust_policy.json 파일이 생성되었습니다.&quot;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="iam-role-생성">IAM Role 생성<a href="#iam-role-생성" class="hash-link" aria-label="Direct link to IAM Role 생성" title="Direct link to IAM Role 생성" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">aws iam create-role --role-name $ --assume-role-policy-document file://trust_policy.json</span><br></span></code></pre></div></div>
<p>Policy document 생성</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">aws iam put-role-policy --role-name $ --policy-name OmicsWorkflowV1 --policy-document file://omics_workflow_policy.json</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="워크플로우-실행">워크플로우 실행<a href="#워크플로우-실행" class="hash-link" aria-label="Direct link to 워크플로우 실행" title="Direct link to 워크플로우 실행" translate="no">​</a></h4>
<p>작은 샘플의 예제는 <code>input.json</code>, 큰 샘플의 예제는 <code>input_full.json</code></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">aws omics start-run \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --name spatialvi_test_run_1 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --role-arn arn:aws:iam::$:role/$\</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --workflow-id $ \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --parameters file://input.json \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --output-uri s3://$/output/</span><br></span></code></pre></div></div>
<p><strong>참고문서</strong></p>
<ul>
<li class=""></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/aws-wwps-kr-tech/docusaurus/tree/main/docs/omics-on-aws/nf-core-spatialvi.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docusaurus/en/omics-on-aws/nf-core-rnaseq"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Nf-core 워크플로우 마이그레이션 하기 (rnaseq)</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docusaurus/en/omics-on-aws/wdl-hifi-human-wgs-wdl"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">WDL 워크플로우 마이그레이션 하기 (HiFi-human-WGS-WDL)</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#마이그레이션을-위한-환경-구성" class="table-of-contents__link toc-highlight">마이그레이션을 위한 환경 구성</a><ul><li><a href="#step1---ec2-기반-환경-구성" class="table-of-contents__link toc-highlight">Step1 - Ec2 기반 환경 구성</a></li><li><a href="#step-2---workflow-migration-code를-세팅하기" class="table-of-contents__link toc-highlight"><strong>Step 2 - workflow migration code를 세팅하기</strong></a></li></ul></li><li><a href="#프로젝트-셋업" class="table-of-contents__link toc-highlight">프로젝트 셋업</a></li><li><a href="#신규-healthomics-워크플로우-만들기" class="table-of-contents__link toc-highlight">신규 HealthOmics 워크플로우 만들기</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docusaurus/en/docs/amazon-s3/s3-select">AWS Services</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://aws.amazon.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">AWS<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/aws-wwps-kr-tech/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 Amazon Web Services, Inc. or its affiliates. All rights reserved.</div></div></div></footer></div>
</body>
</html>